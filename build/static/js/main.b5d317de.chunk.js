(this["webpackJsonpreact-mapbox"]=this["webpackJsonpreact-mapbox"]||[]).push([[0],{140:function(e,t,n){e.exports={device_summary_container:"DeviceSummary_device_summary_container__2No9Z",device_summary_content:"DeviceSummary_device_summary_content__1hZz_",device_table_content:"DeviceSummary_device_table_content__28oyR"}},181:function(e,t,n){e.exports={project_summary_container:"ProjectSummaryModal_project_summary_container__ffcjA",project_summary_content:"ProjectSummaryModal_project_summary_content__3AdXF",project_table_content:"ProjectSummaryModal_project_table_content__20-Ec"}},182:function(e,t,n){e.exports={project_edit_container:"ProjectEditModal_project_edit_container__2UJFU",project_edit_content:"ProjectEditModal_project_edit_content__10HTa",project_table_content:"ProjectEditModal_project_table_content__334h-"}},183:function(e,t,n){e.exports={project_summary_container:"ProjectSummary_project_summary_container__2INew",project_summary_content:"ProjectSummary_project_summary_content__39bxX",project_table_content:"ProjectSummary_project_table_content__GfDPo"}},184:function(e,t,n){e.exports={device_summary_container:"DeviceSummaryModal_device_summary_container__1hB53",device_summary_content:"DeviceSummaryModal_device_summary_content__-o3l3",device_table_content:"DeviceSummaryModal_device_table_content__2dSTF"}},185:function(e,t,n){e.exports={machine_summary_container:"MachineSummaryModal_machine_summary_container__2gXd2",machine_summary_content:"MachineSummaryModal_machine_summary_content__17uFF",machine_table_content:"MachineSummaryModal_machine_table_content__lwzJJ"}},186:function(e,t,n){e.exports={machine_edit_container:"MachineEditModal_machine_edit_container__6gcvi",machine_edit_content:"MachineEditModal_machine_edit_content__1gReT",machine_table_content:"MachineEditModal_machine_table_content__3APZT"}},187:function(e,t,n){e.exports={machine_summary_container:"MachineSummary_machine_summary_container__WhbOy",machine_summary_content:"MachineSummary_machine_summary_content__3XOgH",machine_table_content:"MachineSummary_machine_table_content__2bDef"}},188:function(e,t,n){e.exports={user_detail_container:"UserDetail_user_detail_container__cfhay",user_table_content:"UserDetail_user_table_content__2X-zY",user_avatar:"UserDetail_user_avatar__2HAIn",user_detail_title:"UserDetail_user_detail_title__1c8bq",user_detail_content:"UserDetail_user_detail_content__3FvsG",user_update_button:"UserDetail_user_update_button__1jx6t"}},189:function(e,t,n){e.exports={user_edit_container:"UserEdit_user_edit_container__NNpIv",user_table_content:"UserEdit_user_table_content__3eJET",user_avatar:"UserEdit_user_avatar__2MV38",user_edit_title:"UserEdit_user_edit_title__u1VOp",user_edit_content:"UserEdit_user_edit_content__DBnta",user_update_button:"UserEdit_user_update_button__2uHYJ"}},1978:function(e,t,n){},1979:function(e,t,n){},1980:function(e,t,n){},1981:function(e,t,n){},1982:function(e,t,n){},1983:function(e,t,n){},1984:function(e,t,n){},1985:function(e,t,n){},1986:function(e,t,n){},1987:function(e,t,n){},1988:function(e,t,n){},1989:function(e,t,n){},1990:function(e,t,n){},1991:function(e,t,n){},1992:function(e,t,n){},1993:function(e,t,n){},1995:function(e,t,n){},1996:function(e,t,n){},1997:function(e,t,n){},1998:function(e,t,n){},1999:function(e,t,n){"use strict";n.r(t);n(302),n(303);var a=n(1),c=n.n(a),i=n(38),r=n.n(i),s=n(30),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,2036)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},d=(n(308),n(23)),l=n(8),j=(n(309),n(2021)),u=n(2031),b=n(170),h=n(168),m=n(135),O=Object(h.b)({name:"authenticate",initialState:{accessToken:"",role:"",id:"",avatar:"",name:""},reducers:{updateToken:function(e,t){e.accessToken=t.payload.accessToken,e.role=t.payload.role,e.id=t.payload.id,e.avatar=t.payload.avatar,e.name=t.payload.name},clearToken:function(e){e.accessToken="",e.role="",e.id="",e.avatar="",e.name=""}}}),p=O.actions.updateToken,v=O.actions.clearToken,f=O.reducer,x=Object(h.a)({reducer:{account:f},preloadedState:function(){try{var e=localStorage.getItem("store");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),devTools:!0});x.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("store",t)}catch(n){}}(x.getState())}));var g=x,y=function(){return Object(m.b)()},_=m.c,k=n(2),w=function(e){var t=e.selectItem,n=(e.visible,_((function(e){return e.account}))),a=Object(d.h)();console.log(a);var c=function(e){t(e)};return Object(k.jsx)("div",{className:"home-dashboard",children:Object(k.jsxs)("ul",{className:"function-menu",children:[Object(k.jsxs)("li",{className:"function-menu-group",children:[Object(k.jsx)("div",{className:"group-title",children:"Qu\u1ea3n l\xfd d\u1ef1 \xe1n"}),Object(k.jsxs)("ul",{className:"group-list",children:[Object(k.jsxs)("li",{className:"group-item ".concat("/projects/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),onClick:function(){return c("/projects/list")},children:[Object(k.jsx)("div",{className:"item-icon projects"}),Object(k.jsx)("div",{className:"item-title",children:"D\u1ef1 \xe1n"})]}),Object(k.jsxs)("li",{className:"group-item ".concat("/reports/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),children:[Object(k.jsx)("div",{className:"item-icon reports"}),Object(k.jsx)("div",{className:"item-title",children:"B\xe1o c\xe1o"})]})]})]}),Object(k.jsxs)("li",{className:"function-menu-group",children:[Object(k.jsx)("div",{className:"group-title",children:"Qu\u1ea3n l\xfd thi\u1ebft b\u1ecb"}),Object(k.jsxs)("ul",{className:"group-list",children:[Object(k.jsxs)("li",{className:"group-item ".concat("/active-devices/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),onClick:function(){return c("/active-devices/list")},children:[Object(k.jsx)("div",{className:"item-icon active-devices"}),Object(k.jsx)("div",{className:"item-title",children:"Thi\u1ebft b\u1ecb ho\u1ea1t \u0111\u1ed9ng"})]}),Object(k.jsxs)("li",{className:"group-item ".concat("/devices/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),onClick:function(){return c("/devices/list")},children:[Object(k.jsx)("div",{className:"item-icon devices-list"}),Object(k.jsx)("div",{className:"item-title",children:"Danh s\xe1ch thi\u1ebft b\u1ecb"})]}),Object(k.jsxs)("li",{className:"group-item ".concat("/machines/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),onClick:function(){return c("/machines/list")},children:[Object(k.jsx)("div",{className:"item-icon machine-list"}),Object(k.jsx)("div",{className:"item-title",children:"Danh s\xe1ch m\xe1y m\xf3c"})]})]})]}),Object(k.jsxs)("li",{className:"function-menu-group",children:[Object(k.jsx)("div",{className:"group-title",children:"Qu\u1ea3n l\xfd nh\xe2n s\u1ef1"}),Object(k.jsxs)("ul",{className:"group-list",children:["moderator"===n.role&&Object(k.jsxs)("li",{className:"group-item ".concat("/moderators/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),children:[Object(k.jsx)("div",{className:"item-icon admins"}),Object(k.jsx)("div",{className:"item-title",children:"Qu\u1ea3n tr\u1ecb vi\xean"})]}),Object(k.jsxs)("li",{className:"group-item ".concat("/users/list"===(null===a||void 0===a?void 0:a.pathname)?"active":""),onClick:function(){return c("/users/list")},children:[Object(k.jsx)("div",{className:"item-icon users"}),Object(k.jsx)("div",{className:"item-title",children:"Ng\u01b0\u1eddi d\xf9ng"})]})]})]}),Object(k.jsxs)("li",{className:"function-menu-group",children:[Object(k.jsx)("div",{className:"group-title",children:"L\u1ecbch s\u1eed track"}),Object(k.jsxs)("ul",{className:"group-list",children:[Object(k.jsxs)("li",{className:"group-item",children:[Object(k.jsx)("div",{className:"item-icon lists"}),Object(k.jsx)("div",{className:"item-title",children:"Lists"})]}),Object(k.jsxs)("li",{className:"group-item",children:[Object(k.jsx)("div",{className:"item-icon cards"}),Object(k.jsx)("div",{className:"item-title",children:"Cards"})]})]})]})]})})},N=n(296),S=n(2020),C=(n(315),"https://api.dinhvichinhxac.online/api"),I=n(139),T=n(278),A=n(280),E=function(e){var t=e.icon,n=e.label;return Object(k.jsxs)("div",{className:"profile-dashboard-item-wrapper",children:[Object(k.jsx)("div",{className:"profile-dashboard-item-icon",children:t}),Object(k.jsx)("div",{className:"profile-dashboard-item-label",children:n}),Object(k.jsx)("div",{className:"profile-dashboard-item-arrow",children:Object(k.jsx)(T.a,{})})]})},D=function(){var e=Object(d.g)(),t=_((function(e){return e.account})),n=y();return Object(k.jsx)("div",{className:"profile-dashboard-wrapper",children:Object(k.jsxs)("div",{className:"profile-dashboard-container",children:[Object(k.jsxs)("div",{className:"profile-dashboard-info",children:[Object(k.jsx)("div",{className:"profile-dashboard-info-avatar",children:Object(k.jsx)("img",{src:"data:image/png;base64,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",alt:"ava"})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"profile-dashboard-info-name",children:t.name}),Object(k.jsx)("div",{className:"profile-dashboard-info-role",children:t.role})]})]}),Object(k.jsx)(S.a,{}),Object(k.jsx)(E,{label:"Th\xf4ng tin c\xe1 nh\xe2n",icon:Object(k.jsx)(A.a,{})}),Object(k.jsx)(E,{label:"C\xe0i \u0111\u1eb7t",icon:Object(k.jsx)(I.b,{})}),Object(k.jsx)(E,{label:"Settings",icon:Object(k.jsx)(I.b,{})}),Object(k.jsx)(E,{label:"Settings",icon:Object(k.jsx)(I.b,{})}),Object(k.jsxs)("button",{className:"profile-dashboard-logout",onClick:function(){fetch(C+"/logout/",{method:"GET",headers:{Authorization:"Token ".concat(t.accessToken),"Content-Type":"application/json"}}).then((function(e){N.b.success("\u0110\u0103ng xu\u1ea5t th\xe0nh c\xf4ng"),n(v())})).catch((function(e){return N.b.error(e)})),e.push("/login")},children:[Object(k.jsx)("div",{className:"profile-dashboard-logout-icon",children:Object(k.jsx)(I.a,{})}),Object(k.jsx)("div",{className:"profile-dashboard-logout-title",children:"Logout"})]})]})})},P=n(10),M=n(29),B=["component"],F=function(e){var t=e.component,n=Object(M.a)(e,B),a=_((function(e){return e.account}));return a.accessToken&&a.id?Object(k.jsx)(d.b,Object(P.a)(Object(P.a)({},n),{},{render:function(e){return Object(k.jsx)(t,Object(P.a)({},e))}})):Object(k.jsx)(d.b,Object(P.a)(Object(P.a)({},n),{},{render:function(e){return Object(k.jsx)(d.a,{to:"/login"})}}))},L=function(e){var t=e.children,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){fetch(C+"/task/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),Object(a.useEffect)((function(){console.log("render page"),console.log(i)})),Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"bg-light",style:{width:"100%"},children:t(i)})})},H=n(52),q=n(2023),G=n(115),z=n.n(G),Q=n(2033),V=(n(316),function(e){var t=e.data,n=Object(d.g)(),c=Object(a.useState)(!1),i=Object(l.a)(c,2),r=i[0],o=i[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(),O=Object(l.a)(m,2),p=O[0],v=O[1];Object(a.useEffect)((function(){v(null===t||void 0===t?void 0:t.map((function(e){return{id:null===e||void 0===e?void 0:e.id,device:null===e||void 0===e?void 0:e.device_id,machine:null===e||void 0===e?void 0:e.machine_id,createdAt:new Date(null===e||void 0===e?void 0:e.create_time).toLocaleString(),updatedAt:new Date(null===e||void 0===e?void 0:e.update_time).toLocaleString(),key:null===e||void 0===e?void 0:e.create_time}})))}),[t]);var f=function(){o(!r)},x=[{width:"4%",title:"id",key:"id",dataIndex:"id",render:function(e,t){return Object(k.jsxs)("div",{children:["ID: ",t.id]})}},{title:"",key:"image",dataIndex:"image",width:50,render:function(){return Object(k.jsx)("img",{alt:"no?",src:"https://s3-ap-northeast-1.amazonaws.com/agri-info-design-public/icons/ic_person_black_48dp.png",className:"align-self-center",style:{height:"40px"}})}},{title:"Info",dataIndex:"info",key:"info",width:800,render:function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"fw-bold fs-6",children:["Deivce: ",t.device]}),Object(k.jsxs)("div",{className:"fw-bold fs-6",children:["Machine: ",t.machine]})]})}},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",width:1e3,responsive:["sm"],render:function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["Created Time: ",t.createdAt]}),Object(k.jsxs)("div",{children:["Updated Time: ",t.updatedAt]})]})}},{title:"Action",key:"action",render:function(e){return Object(k.jsxs)("div",{className:"control-buttons",children:[Object(k.jsx)(s.b,{to:"/fields/".concat(e.id),children:Object(k.jsx)(H.a,{type:"primary",size:"large",children:"Detail"})}),Object(k.jsx)(H.a,{type:"primary",danger:!0,size:"large",onClick:function(){f(),h(e)},children:"Delete"})]})}}];return Object(k.jsxs)("div",{className:"p-3",children:[Object(k.jsxs)("div",{className:"title text-start fw-bold fs-3 mb-3 d-flex ",children:[Object(k.jsx)("div",{children:"Field List"}),Object(k.jsx)("div",{className:"ms-4",children:Object(k.jsx)(H.a,{onClick:function(){return n.push("/fields/create")},children:"Create Field"})}),Object(k.jsx)("div",{className:"ms-4",children:Object(k.jsx)(H.a,{onClick:function(){return n.push("/fields/card")},children:"Card View"})})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q.a,{dataSource:p,columns:x,showHeader:!1})}),Object(k.jsx)("div",{children:Object(k.jsx)(z.a,{visible:r,onOk:function(){console.log(b,"hehe"),localStorage.removeItem(b.name),localStorage.setItem("fakeDB",JSON.stringify(JSON.parse(localStorage.getItem("fakeDB")).filter((function(e){return e!==b.name})))),o(!1);var e=null===t||void 0===t?void 0:t.filter((function(e){return e.name!==b.name}));v(e),h(t)},onCancel:f,okText:"OK",cancelText:"Cancel",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(Q.a,{style:{fontSize:"30px",margin:"0 10px",color:"gray"}}),'Are you sure want to delete Field "',null===b||void 0===b?void 0:b.device,'"']})})})]})}),J=n(2025),W=n(2034),Y=function(e){var t=e.data,n=Object(d.g)(),c=Object(a.useState)(!1),i=Object(l.a)(c,2),r=i[0],o=i[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(),O=Object(l.a)(m,2),p=O[0],v=O[1];Object(a.useEffect)((function(){v(null===t||void 0===t?void 0:t.map((function(e){return{id:null===e||void 0===e?void 0:e.id,device:null===e||void 0===e?void 0:e.device_id,machine:null===e||void 0===e?void 0:e.machine_id,createdAt:new Date(null===e||void 0===e?void 0:e.create_time).toDateString(),key:null===e||void 0===e?void 0:e.created_time,img:null===e||void 0===e?void 0:e.img}})))}),[t]);var f=function(){o(!r)};return Object(k.jsxs)("div",{className:"p-3",children:[Object(k.jsxs)("div",{className:"title text-start fw-bold fs-3 mb-3 d-flex ",children:[Object(k.jsx)("div",{children:"Field List(Card) "}),Object(k.jsx)("div",{className:"ms-4",children:Object(k.jsx)(H.a,{onClick:function(){return n.push("/fields/create")},children:"Create Field"})}),Object(k.jsx)("div",{className:"ms-4",children:Object(k.jsx)(H.a,{onClick:function(){return n.push("/fields/list")},children:"List View"})})]}),Object(k.jsx)("div",{className:"",children:Object(k.jsx)("div",{className:"d-flex flex-wrap",children:p&&p.map((function(e){return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(s.b,{to:"/fields/".concat(e.id),children:Object(k.jsx)(J.a,{hoverable:!0,style:{width:200,margin:"5px"},cover:Object(k.jsx)("div",{style:{backgroundImage:'url("'.concat(e.img,'")'),height:"200px"},children:Object(k.jsx)(H.a,{className:"float-end m-1",danger:!0,type:"primary",size:"large",icon:Object(k.jsx)(W.a,{}),onClick:f})}),children:Object(k.jsx)("div",{className:"d-flex justify-self-start fs-6",children:e.device})})})},e.id)}))})}),Object(k.jsx)("div",{children:Object(k.jsx)(z.a,{visible:r,onOk:function(){localStorage.removeItem(b.name),localStorage.setItem("fakeDB",JSON.stringify(JSON.parse(localStorage.getItem("fakeDB")).filter((function(e){return e!==b.name})))),o(!1);var e=t.filter((function(e){return e.name!==b.name}));v(e),h(t)},onCancel:f,okText:"OK",cancelText:"Cancel",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(Q.a,{style:{fontSize:"30px",margin:"0 10px",color:"gray"}}),'Are you sure want to delete Field "',null===b||void 0===b?void 0:b.device,'"']})})})]})},K=(n(455),n(34)),U=n(116),X=n(117),R=(n(456),n(457),n(458),n(39)),Z=n.n(R),$=n(36),ee=n(286),te=n.n(ee),ne=[105.75701933333332,20.977847833333332],ae={"line-color":"blue","line-width":3.5},ce="#00fd90",ie="#ff5050",re={"fill-color":ce,"fill-opacity":.7},se={"line-color":ie,"line-width":3.5},oe=[{id:"gl-draw-line",type:"line",filter:["all",["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":ie,"line-width":3.5}},{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":ce,"fill-outline-color":ce,"fill-opacity":.7}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":ie,"line-width":3.5}},{id:"gl-draw-polygon-and-line-vertex-halo-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","$type","LineString"],["==","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","$type","Polygon"],["==","mode","static"]],paint:{"fill-color":"#000","fill-outline-color":"#000","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","$type","Polygon"],["==","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}}],de=(n(465),function(e){var t=e.statisticData;return Object(k.jsx)("div",{className:"statistic",children:t&&t.map((function(e){return Object(k.jsxs)("div",{className:"block-test",children:[Object(k.jsxs)("div",{children:["Name: ",e.name]}),Object(k.jsxs)("div",{children:["Icon: ",e.icon]}),Object(k.jsxs)("div",{children:["Distance: ",e.distance," km"]})]},e.name)}))})}),le=function(e,t){return{"line-color":"yellow","line-opacity":.5,"line-width":{type:"exponential",base:2,stops:[[0,e*Math.pow(2,0-t)],[24,e*Math.pow(2,24-t)]]}}},je=n(32),ue=n.n(je),be=n(42);function he(e,t,n,a){return me.apply(this,arguments)}function me(){return(me=Object(be.a)(ue.a.mark((function e(t,n,a,c){var i,r,s,o,d,l,j,u,b,h,m,O;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"=").concat(t,"&track_id=").concat(c,"&short=true"),{method:"GET"}).then((function(e){return e.json()}));case 3:i=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:if(i)if(d=null===(r=i.track[0])||void 0===r?void 0:r.points,l=null===(s=i.track[0])||void 0===s?void 0:s.start_point,j=null===(o=i.track[0])||void 0===o?void 0:o.multiplier,d&&0!==(null===d||void 0===d?void 0:d.length)){for(b=null===(u=i.track[0])||void 0===u?void 0:u.last_index,h=[],m=0;m<d.length;m+=2)O=[d[m+1]*j+l[1],d[m]*j+l[0]],h.push(O);a((function(e){return e?{type:"geojson",data:K.lineString(null===e||void 0===e?void 0:e.data.geometry.coordinates.concat(h))}:{type:"geojson",data:K.lineString(h)}})),he(b,n,a,c)}else setTimeout((function(){he(t,n,a,c)}),700);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Oe=he,pe=function(e){var t=e.endpoint,n=e.cropData,c=e.deviceId,i=e.zoom,r=e.updateStatisticData,s=Object(a.useState)({type:"geojson",data:{type:"Feature",geometry:{type:"LineString",coordinates:[]}}}),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useRef)({lastIndex:0,lastCoordinates:[]}),p=Object(a.useRef)(0);return Object(a.useEffect)((function(){return function(){j({})}}),[]),Object(a.useEffect)((function(){t&&Oe(0,t,j,c)}),[t,c]),Object(a.useEffect)((function(){if(d){var e,t=null===(e=d.data)||void 0===e?void 0:e.geometry.coordinates.length;if(t>0){for(var n,a,i,s=null===(n=d.data)||void 0===n?void 0:n.geometry.coordinates[O.current.lastIndex],o=null===(a=d.data)||void 0===a?void 0:a.geometry.coordinates[O.current.lastIndex+1],l=O.current.lastIndex;l<t;l++){var j;p.current+=K.distance(K.point(s),K.point(o)),s=o,o=null===d||void 0===d||null===(j=d.data)||void 0===j?void 0:j.geometry.coordinates[l+1]}O.current={lastIndex:t-1,lastCoordinates:null===d||void 0===d||null===(i=d.data)||void 0===i?void 0:i.geometry.coordinates[t-1]},r(c,p.current)}}}),[d]),Object(k.jsxs)("div",{children:[Object(k.jsx)($.Source,{id:"device-".concat(c),geoJsonSource:d}),Object(k.jsx)($.Layer,{type:"line",id:"device-".concat(c),sourceId:"device-".concat(c),paint:le(n.properties.width,i)}),Object(k.jsx)($.Image,{id:"device-".concat(c,"-icon"),url:n.properties.icon,options:{pixelRatio:6}}),d.data.geometry.coordinates.length>0&&Object(k.jsxs)("div",{children:[Object(k.jsx)($.Layer,{type:"symbol",id:"test_marker-".concat(c),layout:{"icon-image":"device-".concat(c,"-icon")},children:Object(k.jsx)($.Feature,{coordinates:[105.89424821470598,20.59760787621294],onClick:function(){return m(!h)}})}),Object(k.jsx)($.Layer,{type:"symbol",id:"marker-".concat(c),layout:{"icon-image":"device-".concat(c,"-icon")},children:Object(k.jsx)($.Feature,{coordinates:d.data.geometry.coordinates[d.data.geometry.coordinates.length-1],onClick:function(){return m(!h)}})}),h&&Object(k.jsx)($.Popup,{coordinates:d.data.geometry.coordinates[d.data.geometry.coordinates.length-1],children:Object(k.jsxs)("div",{children:["Coordinates:",d.data.geometry.coordinates[d.data.geometry.coordinates.length-1]]})})]})]})},ve=function(e){var t=e.endpoint,n=e.crops,c=e.zoom,i=Object(a.useState)(),r=Object(l.a)(i,2),s=r[0],o=r[1];Object(a.useEffect)((function(){var e;console.log("track render");var t=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.features.map((function(e,t){return{icon:e.properties.icon,name:t}}));o(t)}),[]);var d=function(e,t){o((function(n){return n.map((function(n){return n.name===e?Object(P.a)(Object(P.a)({},n),{},{distance:t}):n}))}))};return Object(k.jsxs)("div",{children:[n&&n.data.features.map((function(e,n){return Object(k.jsx)(pe,{endpoint:t,cropData:e,deviceId:n,zoom:c,updateStatisticData:d},e.properties.width)})),Object(k.jsx)(de,{statisticData:s})]})},fe=n(26),xe=n(41);function ge(){return(ge=Object(be.a)(ue.a.mark((function e(t,n,a){var c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=void 0,e.prev=1,e.next=4,fetch(t,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(P.a)(Object(P.a)({},n),{},{last_id:a}))}).then((function(e){return e.json()}));case 4:c=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var ye=function(e,t,n){var c=Object(a.useState)(!1),i=Object(l.a)(c,2),r=i[0],s=i[1],o=Object(a.useState)(!0),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(0),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(),v=Object(l.a)(p,2),f=v[0],x=v[1],g=Object(a.useState)({coordinates:[],speed:[],accuracy:[],timestamp:[]}),y=Object(l.a)(g,2),_=y[0],k=y[1];return Object(a.useEffect)((function(){j&&function(e,t,n){return ge.apply(this,arguments)}(e,t,m).then((function(e){console.log("Data: ",e),x(e)}))}),[j,r]),Object(a.useEffect)((function(){return function(){k({coordinates:[],speed:[],accuracy:[],timestamp:[]}),console.log("exit"),u(!1)}}),[]),Object(a.useEffect)((function(){if(f){var e=null===f||void 0===f?void 0:f.positions;e&&0!==(null===e||void 0===e?void 0:e.length)?function(){var t,a,c=f.last_id+1,i=[],o={speed:[],accuracy:[],timestamp:[]},d=Object(xe.a)(e);try{for(d.s();!(t=d.n()).done;){var l=t.value,j=l[0],u=l[1],b=l[3],h=l[4],m=l[5];i.push([u,j]),o.accuracy.push(b),o.speed.push(h),o.timestamp.push(m)}}catch(x){d.e(x)}finally{d.f()}if(i.length>20)k((function(e){return e?{coordinates:[].concat(Object(fe.a)(e.coordinates),i),accuracy:[].concat(Object(fe.a)(e.accuracy),Object(fe.a)(o.accuracy)),speed:[].concat(Object(fe.a)(e.speed),Object(fe.a)(o.speed)),timestamp:[].concat(Object(fe.a)(e.timestamp),Object(fe.a)(o.timestamp))}:{coordinates:i,accuracy:o.accuracy,speed:o.speed,timestamp:o.timestamp}})),null===n||void 0===n||null===(a=n.current)||void 0===a||a.flyTo({center:i[i.length-1],essential:!0});else for(var p=function(e){var t;k((function(t){return t?{coordinates:[].concat(Object(fe.a)(t.coordinates),[i[e]]),accuracy:[].concat(Object(fe.a)(t.accuracy),[o.accuracy[e]]),speed:[].concat(Object(fe.a)(t.speed),[o.speed[e]]),timestamp:[].concat(Object(fe.a)(t.timestamp),[o.timestamp[e]])}:{coordinates:i,accuracy:o.accuracy,speed:o.speed,timestamp:o.timestamp}})),null===n||void 0===n||null===(t=n.current)||void 0===t||t.flyTo({center:i[e],essential:!0})},v=0;v<i.length;v++)p(v);O(c),s(!r)}():setTimeout((function(){s(!r)}),1e3)}}),[f]),[_]},_e=Object(a.createContext)(null),ke=function(){var e=Object(a.useRef)(),t=Object(d.i)(),n=t.device,c=t.task,i=ye("https://api.dinhvichinhxac.online/api/task-online/",{device_id:n,task_id:c},e),r=Object(l.a)(i,1)[0];return Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsx)("div",{className:"content",children:Object(k.jsx)("div",{className:"title fw-bold fs-3 mb-4 d-flex",children:Object(k.jsxs)("div",{children:["Ho\u1ea1t \u0111\u1ed9ng c\u1ee7a thi\u1ebft b\u1ecb ID ",n]})})}),Object(k.jsx)("div",{className:"mapbox-container",children:Object(k.jsx)(_e.Provider,{value:r,children:Object(k.jsx)(Re,{accessToken:"pk.eyJ1IjoidHB3Mjg0IiwiYSI6ImNrc2VrYnk0bjExaWIybnJveGFtOGV0eDAifQ.pSJ4eAaCbdrjhzmqXMRK_A",maxWidth:"100%",height:"calc(100vh - 175px)",realtimeMode:!0,mapInstance:e})})})]})},we=n(123),Ne=n.n(we),Se=n(466),Ce=n(467);Ne.a.extend(Se),Ne.a.extend(Ce);var Ie=Object(a.memo)((function(e){var t,n,c,i,r=e.zoom,s=Object(a.useContext)(_e),o=Object(a.useState)({type:"geojson",data:{type:"Feature",geometry:{type:"LineString",coordinates:[]}}}),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1];return Object(a.useEffect)((function(){var e;(null===s||void 0===s||null===(e=s.coordinates)||void 0===e?void 0:e.length)>1&&u({type:"geojson",data:K.lineString(null===s||void 0===s?void 0:s.coordinates)})}),[s]),Object(k.jsxs)("div",{children:[Object(k.jsx)($.Source,{id:"device",geoJsonSource:j}),Object(k.jsx)($.Layer,{type:"line",id:"device",sourceId:"device",paint:le(1,r||16)}),Object(k.jsx)($.Image,{id:"device-icon",url:"https://i.ibb.co/WP8VqMv/3.png",options:{pixelRatio:4}}),(null===j||void 0===j||null===(t=j.data)||void 0===t||null===(n=t.geometry)||void 0===n?void 0:n.coordinates.length)>0&&Object(k.jsxs)("div",{children:[Object(k.jsx)($.Layer,{type:"symbol",id:"marker",layout:{"icon-image":"device-icon"},children:Object(k.jsx)($.Feature,{coordinates:null===s||void 0===s?void 0:s.coordinates[(null===s||void 0===s||null===(c=s.coordinates)||void 0===c?void 0:c.length)-1],onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)}})}),m&&Object(k.jsx)($.Popup,{coordinates:null===s||void 0===s?void 0:s.coordinates[(null===s||void 0===s||null===(i=s.coordinates)||void 0===i?void 0:i.length)-1],children:Object(k.jsxs)("div",{className:"text-start",children:[Object(k.jsxs)("li",{children:["Kinh \u0111\u1ed9: ",null===s||void 0===s?void 0:s.coordinates[(null===s||void 0===s?void 0:s.coordinates.length)-1][1]]}),Object(k.jsxs)("li",{children:["V\u0129 \u0111\u1ed9: ",null===s||void 0===s?void 0:s.coordinates[(null===s||void 0===s?void 0:s.coordinates.length)-1][0]]}),Object(k.jsxs)("li",{children:["T\u1ed1c \u0111\u1ed9: ",null===s||void 0===s?void 0:s.speed[(null===s||void 0===s?void 0:s.speed.length)-1]," km/h"]}),Object(k.jsxs)("li",{children:["\u0110\u1ed9 ch\xednh x\xe1c: ",null===s||void 0===s?void 0:s.accuracy[(null===s||void 0===s?void 0:s.accuracy.length)-1]," cm"]}),Object(k.jsxs)("li",{children:["Th\u1eddi gian:"," ",Ne.a.utc(null===s||void 0===s?void 0:s.timestamp[(null===s||void 0===s?void 0:s.timestamp.length)-1].toString(),"DDMMYYHHmmss").local().format("DD/MM/YYYY HH:mm:ss")]})]})})]})]})})),Te=(n(468),n(136)),Ae=n(283),Ee=n(2027),De=n(293),Pe=function(e){switch(e){case"Qu\xe3ng \u0111\u01b0\u1eddng":return"m";case"V\u1eadn t\u1ed1c":return"km/h";case"\u0110\u1ed9 ch\xednh x\xe1c":return"cm"}},Me=function(e){var t="";return e.forEach((function(e){var n,a='<div style="text-align: start"> <span style="font-weight: bold; font-family: sans-serif"> '.concat(null===e||void 0===e?void 0:e.seriesName," </span>: ").concat(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.toFixed(2)," ").concat(Pe(null===e||void 0===e?void 0:e.seriesName)||""," </div> ");t=t.concat(a)})),t},Be=Object(a.memo)((function(e){var t=e.taskData,n=e.setViewIndex,a=e.onEvents,c={grid:{top:70,right:10,bottom:24,left:10},xAxis:{data:t.xAxis||[],show:!1},yAxis:[{name:"speed",show:!1},{show:!1,name:"distance"},{show:!1,name:"accuracy"}],series:[{name:"V\u1eadn t\u1ed1c",data:t.speed||[],type:"line",smooth:!0},{name:"Qu\xe3ng \u0111\u01b0\u1eddng",yAxisIndex:1,data:t.distance||[],type:"line",smooth:!0},{name:"\u0110\u1ed9 ch\xednh x\xe1c",yAxisIndex:2,data:t.accuracy||[],type:"line",smooth:!0}],tooltip:{trigger:"axis",formatter:function(e){return console.log(e[0].dataIndex),n(e[0].dataIndex),Me(e)}},legend:{data:[{name:"Qu\xe3ng \u0111\u01b0\u1eddng",textStyle:{fontFamily:"sans-serif"}},{name:"V\u1eadn t\u1ed1c",textStyle:{fontFamily:"sans-serif"}},{name:"\u0110\u1ed9 ch\xednh x\xe1c",textStyle:{fontFamily:"sans-serif"}}],top:10,left:10,itemHeight:20}};return Object(k.jsx)(De.a,{style:{height:"100%",width:"100%"},option:c,onEvents:a})})),Fe=(n(474),n(179)),Le=n(2035),He=n(213),qe=n(289),Ge=n(288),ze=n(287),Qe=(Te.a.Option,function(e){var t=e.icon,n=e.title,a=e.content;return Object(k.jsxs)("div",{className:"record-info-item",children:[Object(k.jsx)("div",{className:"record-info-item-icon",children:t}),Object(k.jsxs)("div",{className:"record-info-item-stats",children:[Object(k.jsx)("div",{className:"record-info-item-content",children:a}),Object(k.jsx)("div",{className:"record-info-item-title",children:n})]})]})}),Ve=function(e){var t,n,a,c,i,r,s,o,d,l,j=e.data,u=(e.options,e.changeSelectTask,e.isFetching,e.viewWidthContextKey,{speed:0,accuracy:0});null===j||void 0===j||null===(t=j.speed)||void 0===t||t.forEach((function(e){u.speed+=e})),null===j||void 0===j||null===(n=j.accuracy)||void 0===n||n.forEach((function(e){u.accuracy+=e}));var b={speed:u.speed/(null===j||void 0===j||null===(a=j.speed)||void 0===a?void 0:a.length),accuray:u.accuracy/(null===j||void 0===j||null===(c=j.accuracy)||void 0===c?void 0:c.length)};return Object(k.jsx)("div",{className:"record-info-container",children:Object(k.jsxs)("div",{className:"record-info-content",children:[Object(k.jsx)("div",{className:"record-info-title",children:"Thi\u1ebft b\u1ecb IMET 20"}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(Fe.a,{}),title:"Ng\xe0y b\u1eaft \u0111\u1ea7u",content:"20/10/2021 10:20 am"}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(ze.a,{}),title:"Di\u1ec7n t\xedch l\xe0m vi\u1ec7c",content:"100 km2"}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(Le.a,{}),title:"\u0110\u1ed9 r\u1ed9ng \u0111\u01b0\u1eddng l\xe0m vi\u1ec7c",content:"2 m"}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(Ge.a,{}),title:"T\u1ed5ng qu\xe3ng \u0111\u01b0\u1eddng",content:"".concat(null!==(i=null===(r=j.distance)||void 0===r||null===(s=r[(null===(o=j.distance)||void 0===o?void 0:o.length)-1])||void 0===s?void 0:s.toFixed(2))&&void 0!==i?i:""," m")}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(He.a,{}),title:"\u0110\u1ed9 ch\xednh x\xe1c trung b\xecnh",content:"".concat(null!==(d=b.accuray.toFixed(2))&&void 0!==d?d:""," cm")}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(qe.a,{}),title:"T\u1ed1c \u0111\u1ed9 trung b\xecnh",content:"".concat(null!==(l=b.speed.toFixed(2))&&void 0!==l?l:""," km/h")}),Object(k.jsx)(Qe,{icon:Object(k.jsx)(He.b,{}),title:"GNSS",content:"A"})]})})},Je=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(e),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(a.useState)({}),u=Object(l.a)(j,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){o&&new Promise((function(e,t){var n=o.endPoint,a={headers:null===o||void 0===o?void 0:o.headers,method:o.method,body:JSON.stringify(o.requestBody)};n&&(fetch(n,a).then((function(e){return e.json()})).then((function(t){t.response?e(t.response):e(t)})).catch((function(e){return t(e)})),i(!0))})).then((function(e){i(!1),h({data:e,hasError:!1})}),(function(e){i(!1),h({data:e,hasError:!0})}))}),[o]),[b,c,d]},We=n(85),Ye=Te.a.Option,Ke=Object(a.createContext)(null),Ue=function(e){var t=e.id,n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(0),p=Object(l.a)(O,2),v=p[0],f=p[1],x=Object(a.useState)(1),g=Object(l.a)(x,2),y=g[0],_=g[1],w=Object(a.useState)(-1),N=Object(l.a)(w,2),S=N[0],I=N[1],T=Je({}),A=Object(l.a)(T,3),E=A[0],D=A[1],P=A[2],M=Je({}),B=Object(l.a)(M,3),F=B[0],L=B[1],H=B[2];Object(a.useEffect)((function(){P({endPoint:C+"/task/",method:"GET"})}),[]),Object(a.useEffect)((function(){!D&&E&&E.data&&!E.hasError&&j(E.data.map((function(e){return{id:e.id,deviceId:e.device_id}})).filter((function(e){return e.deviceId.toString()===t})).map((function(e){return e.id})))}),[E]),Object(a.useEffect)((function(){S>=0&&H({endPoint:C+"/task/",method:"POST",headers:{"Content-Type":"application/json"},requestBody:{action:"read",pk:S}})}),[S]),Object(a.useEffect)((function(){if(!L&&F&&F.data&&!F.hasError){var e,t,n={distance:[0],accuracy:[0],speed:[0],xAxis:[0]},a=[0,0],c=(null===(e=F.data)||void 0===e?void 0:e.positions)||[],i=[];c.forEach((function(e,c){var r=e[0],s=e[1],o=e[3],d=e[4],l=(e[5],[s,r]);i.push(l),t=a,a=l,c>0&&(n.speed.push(d),n.accuracy.push(o),n.distance.push(n.distance[n.distance.length-1]+1e3*K.distance(K.point(t),K.point(a))),n.xAxis.push(c))})),r(n),m(i),f(i.length)}}),[F]);var q=Object(k.jsx)(We.a,{style:{fontSize:24},spin:!0});return Object(k.jsxs)("div",{className:"task-view",children:[Object(k.jsxs)("div",{className:"task-control-container",children:[Object(k.jsx)("div",{className:"task-map",children:Object(k.jsx)(Ke.Provider,{value:{viewIndex:v,viewWidth:y},children:Object(k.jsx)(Re,{height:"calc(70vh - 150px)",width:"100%",viewDrawData:h,multiple:!0,center:null===h||void 0===h?void 0:h[0],viewIndexContextKey:"task"})})}),Object(k.jsxs)("div",{className:"task-map-select",children:[Object(k.jsx)("span",{children:"Task: "}),Object(k.jsx)(Te.a,{value:S,style:{width:120},onChange:function(e){I(e)},children:d&&d.map((function(e){return Object(k.jsx)(Ye,{value:e,children:e},e)}))}),L&&S&&Object(k.jsx)(Ae.a,{indicator:q}),Object(k.jsx)("span",{children:"Width: "}),Object(k.jsx)(Ee.a,{value:y,style:{width:100},onChange:function(e){_(e)}})]}),Object(k.jsx)("div",{className:"task-control-chart",children:Object(k.jsx)(Be,{taskData:i,setViewIndex:f})})]}),Object(k.jsx)("div",{className:"task-graph",children:Object(k.jsx)(Ke.Provider,{value:{viewWidth:y,setViewWidth:_},children:Object(k.jsx)(Ve,{data:i})})})]})},Xe=function(e){var t=e.data,n=e.zoom,c=(e.multiple,e.viewIndexContextKey),i=Object(a.useState)({type:"geojson",data:{type:"Feature",geometry:{type:"LineString",coordinates:[]}}}),r=Object(l.a)(i,2),s=r[0],o=r[1],d=Object(a.useState)([100,20]),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useContext)("record"===c?Ze:Ke),m=h.viewIndex,O=h.viewWidth;return Object(a.useEffect)((function(){t&&t.length>1&&o({type:"geojson",data:K.lineString(t)}),t&&t.length>=1&&b(t[t.length-1])}),[]),Object(a.useEffect)((function(){var e=t.slice(0,m+1);e.length>=2?(o({type:"geojson",data:K.lineString(e)}),b(e[m-1])):1===e.length&&(o({type:"geojson",data:K.point(e[0])}),b(e[0]))}),[m]),Object(k.jsxs)("div",{children:[Object(k.jsx)($.Source,{id:"view-device",geoJsonSource:s}),Object(k.jsx)($.Layer,{type:"line",id:"view-device",sourceId:"view-device",paint:le(O,n)}),Object(k.jsx)($.Marker,{coordinates:u,anchor:"center",children:Object(k.jsx)("img",{src:"https://i.ibb.co/WP8VqMv/3.png",style:{height:"40px"}})})]})};Z.a.workerClass=n(259).default,$.default.workerClass=n(259).default;var Re=Object(a.memo)(Object(a.forwardRef)((function(e,t){var n,c,r,s,o=Object.assign({},e),d=Object(a.useState)("satellite-v9"),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useRef)(null),m=Object(a.memo)(Object($.default)({accessToken:o.accessToken||"pk.eyJ1IjoidHB3Mjg0IiwiYSI6ImNrc2VrYnk0bjExaWIybnJveGFtOGV0eDAifQ.pSJ4eAaCbdrjhzmqXMRK_A",maxZoom:23})),O=Object(a.useState)(o.zoom),p=Object(l.a)(O,2),v=p[0],f=(p[1],Object(a.useState)(o.center)),x=Object(l.a)(f,2),g=x[0],y=(x[1],function(e){b(e)}),_=Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"layer-control",children:[Object(k.jsx)("button",{className:"control-option ".concat("satellite-v9"===u?"control-option-select":""),onClick:function(){return y("satellite-v9")},children:"Satellite"}),Object(k.jsx)("button",{className:"control-option ".concat("dark-v10"===u?"control-option-select":""),onClick:function(){return y("dark-v10")},children:"Dark"}),Object(k.jsx)("button",{className:"control-option ".concat("light-v10"===u?"control-option-select":""),onClick:function(){return y("light-v10")},children:"Light"}),Object(k.jsx)("button",{className:"control-option ".concat("streets-v11"===u?"control-option-select":""),onClick:function(){return y("streets-v11")},children:"Map"})]})}),w=function(){function e(){Object(U.a)(this,e),this._map=void 0,this._container=void 0}return Object(X.a)(e,[{key:"onAdd",value:function(e){return this._map=e,this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl",Object(i.render)(_,this._container),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container),this._map=void 0}}]),e}();return Object(a.useImperativeHandle)(t,(function(){return{getDrawData:function(){return s.draw.getAll()}}})),Object(k.jsx)("div",{children:Object(k.jsxs)(m,{style:"mapbox://styles/mapbox/".concat(u),containerStyle:{height:o.height||"100vh",width:o.width||"100vw",maxWidth:o.maxWidth||"100%",maxHeight:o.maxHeight||"100%"},center:o.center||g||ne,zoom:[o.zoom||v||16],onStyleLoad:function(e){console.log("map render"),o.lockZoom&&e.setMinZoom(e.getZoom()),console.log("zoom: ",e.getZoom()),h.current=e,o.mapInstance&&(o.mapInstance.current=e),e.addControl(new R.ScaleControl,"bottom-left"),e.addControl(new R.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"bottom-right"),e.addControl(new R.NavigationControl,"bottom-right"),e.addControl(new R.FullscreenControl({container:document.querySelector(".mapboxgl-map")}),"bottom-right"),e.addControl(new w,"top-left")},fitBounds:o.fitBounds,fitBoundsOptions:{padding:{top:10,bottom:25,left:15,right:5}},children:[Object(k.jsxs)("div",{className:"work-area-display",children:[o.workArea&&Object(k.jsx)($.Source,{id:"work_area",geoJsonSource:o.workArea}),o.workArea&&false,o.workArea&&Object(k.jsx)($.Layer,{type:"line",id:"lines_work_area",sourceId:"work_area",paint:ae})]}),Object(k.jsxs)("div",{className:"crops-display",children:[o.crops&&Object(k.jsx)($.Source,{id:"crops",geoJsonSource:o.crops}),o.crops&&Object(k.jsx)($.Layer,{type:"fill",id:"polygon-fill",sourceId:"crops",paint:re}),o.crops&&Object(k.jsx)($.Layer,{type:"line",id:"lines_crops",sourceId:"crops",paint:se})]}),Object(k.jsx)("div",{className:"tracking-devices-draw",children:o.trackingApiEndpoint&&Object(k.jsx)(ve,{endpoint:o.trackingApiEndpoint,crops:o.crops,zoom:(null===h||void 0===h||null===(n=h.current)||void 0===n?void 0:n.getZoom())||16})}),Object(k.jsx)("div",{className:"tracking-devices-draw",children:o.realtimeMode&&Object(k.jsx)(Ie,{zoom:(null===h||void 0===h||null===(c=h.current)||void 0===c?void 0:c.getZoom())||16})}),h&&Object(k.jsx)(te.a,{ref:function(e){return s=e},displayControlsDefault:!1,controls:{polygon:!0,trash:!0},default_mode:"draw_polygon",position:"bottom-right",styles:o.drawStyles?o.drawStyles:oe}),o.viewDrawData&&(null===h||void 0===h||null===(r=h.current)||void 0===r?void 0:r.getZoom())&&Object(k.jsx)(Xe,{data:o.viewDrawData,zoom:v||20,viewIndexContextKey:o.viewIndexContextKey})]})})}))),Ze=Object(a.createContext)(null),$e=function(e){var t=e.match,n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)(0),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(1),p=Object(l.a)(O,2),v=p[0],f=p[1],x=Je({}),g=Object(l.a)(x,3),y=g[0],_=g[1],w=g[2];return Object(a.useEffect)((function(){var e={action:"read",pk:t.params.id};w({endPoint:C+"/task/",method:"POST",headers:{"Content-Type":"application/json"},requestBody:e})}),[]),Object(a.useEffect)((function(){if(!_&&y&&y.data&&!y.hasError){var e,t,n={distance:[0],accuracy:[0],speed:[0],xAxis:[0]},a=[0,0],c=(null===(e=y.data)||void 0===e?void 0:e.positions)||[],i=[];c.forEach((function(e,c){var r=e[0],s=e[1],o=e[3],d=e[4],l=(e[5],[s,r]);i.push(l),t=a,a=l,c>0&&(n.speed.push(d),n.accuracy.push(o),n.distance.push(n.distance[n.distance.length-1]+1e3*K.distance(K.point(t),K.point(a))),n.xAxis.push(c))})),r(n),j(i),m(i.length)}}),[y]),Object(k.jsxs)("div",{className:"record-view",children:[Object(k.jsxs)("div",{className:"record-control-container",children:[Object(k.jsx)("div",{className:"record-map",children:Object(k.jsx)(Ze.Provider,{value:{viewIndex:h,viewWidth:v},children:Object(k.jsx)(Re,{height:"calc(70vh - 90px)",width:"100%",viewDrawData:d,center:d?d[0]:void 0,viewIndexContextKey:"record"})})}),Object(k.jsx)("div",{className:"record-control-chart",children:Object(k.jsx)(Be,{taskData:i,setViewIndex:m})})]}),Object(k.jsx)("div",{className:"record-graph",children:Object(k.jsx)(Ze.Provider,{value:{viewWidth:v,setViewWidth:f},children:Object(k.jsx)(Ve,{data:i,viewWidthContextKey:"record"})})})]})},et=(n(486),n(2032)),tt=n(2028),nt=n(178),at={code:"",name:"",description:""},ct=[{title:"M\xe3 d\u1ef1 \xe1n",dataIndex:"code",key:"code"},{title:"M\xf4 t\u1ea3 t\u1ed5ng quan",dataIndex:"description",key:"description"},{title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",dataIndex:"start_time",key:"start_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}},{title:"Th\u1eddi gian k\u1ebft th\xfac",dataIndex:"end_time",key:"end_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}},{title:"Th\u1eddi gian t\u1ea1o",dataIndex:"create_time",key:"create_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}},{title:"Th\u1eddi gian c\u1eadp nh\u1eadt",dataIndex:"update_time",key:"update_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}}],it=n(2026),rt=n(2029),st=["onClose","update"],ot=function(e){var t=e.onClose,n=e.update,a=Object(M.a)(e,st),c=it.a.useForm(),i=Object(l.a)(c,1)[0],r=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.a)(Object(P.a)({},t),{},{action:"create"}),e.next=3,fetch(C+"/project/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},a),{},{onCancel:t,title:"Th\xeam d\u1ef1 \xe1n m\u1edbi",footer:Object(k.jsx)(H.a,{onClick:function(){i.submit()},children:"\u0110\u0103ng k\xfd"}),children:Object(k.jsxs)("div",{className:"project-add-container",children:[Object(k.jsxs)(it.a,{form:i,layout:"vertical",onFinish:function(e){r(e).then((function(e){n(),N.b.success(e.response)})),t()},onFinishFailed:function(){N.b.error("Submit failed!")},autoComplete:"off",children:[Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"code",label:"M\xe3 d\u1ef1 \xe1n",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"name",label:"T\xean d\u1ef1 \xe1n",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"description",label:"M\xf4 t\u1ea3 t\u1ed5ng quan",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"manager",label:"Qu\u1ea3n l\xed",children:Object(k.jsx)(tt.a,{placeholder:""})})})]}),Object(k.jsx)("div",{className:"project-add-item"})]})}))},dt=n(181),lt=n.n(dt),jt=["id","onClose","visible"],ut=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],bt={code:{brand:"M\xe3 d\u1ef1 \xe1n",type:"string"},name:{brand:"T\xean d\u1ef1 \xe1n",type:"string"},description:{brand:"M\xf4 t\u1ea3 t\u1ed5ng quan",type:"string"},manager:{brand:"Qu\u1ea3n l\xed",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"},start_time:{brand:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",type:"date"},end_time:{brand:"Th\u1eddi gian k\u1ebft th\xfac",type:"date"}},ht=function(e){var t=e.id,n=e.onClose,c=e.visible,i=Object(M.a)(e,jt),r=Object(a.useState)(),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Je({}),O=Object(l.a)(m,3),p=O[0],v=O[1],f=O[2];return Object(a.useEffect)((function(){c&&f({endPoint:C+"/project/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:t}})}),[c]),Object(a.useEffect)((function(){!v&&p&&p.data&&!p.hasError&&d(p.data)}),[p]),Object(a.useEffect)((function(){var e=[];if(o)for(var t=0,n=Object.entries(o);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];if(bt[c]){var r=bt[c],s={ckey:r.brand,value:i};"date"===r.type&&(s.value=new Date(i).toLocaleString()),e.push(s)}}h(e)}),[o]),Object(k.jsx)("div",{className:lt.a.project_summary_container,children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},i),{},{visible:c,onCancel:n,title:"D\u1ef1 \xe1n ".concat(null===o||void 0===o?void 0:o.name),footer:Object(k.jsx)(H.a,{onClick:n,children:"\u0110\xf3ng"}),children:Object(k.jsx)("div",{className:lt.a.project_summary_content,children:Object(k.jsx)(q.a,{className:lt.a.project_table_content,columns:ut,dataSource:b,showHeader:!1,pagination:!1,loading:v})})}))})},mt=n(79),Ot=n(182),pt=n.n(Ot),vt=["index"],ft=["title","editable","children","dataIndex","record","handleSave"],xt=["id","onClose","visible","update"],gt=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value",editable:!0}],yt={code:{brand:"M\xe3 d\u1ef1 \xe1n",type:"string"},name:{brand:"T\xean d\u1ef1 \xe1n",type:"string"},description:{brand:"M\xf4 t\u1ea3 t\u1ed5ng quan",type:"string"},manager:{brand:"Qu\u1ea3n l\xed",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"},start_time:{brand:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",type:"date"},end_time:{brand:"Th\u1eddi gian k\u1ebft th\xfac",type:"date"}},_t=Object(a.createContext)(null),kt=function(e){e.index;var t=Object(M.a)(e,vt),n=it.a.useForm(),a=Object(l.a)(n,1)[0];return Object(k.jsx)(it.a,{form:a,component:!1,children:Object(k.jsx)(_t.Provider,{value:a,children:Object(k.jsx)("tr",Object(P.a)({},t))})})},wt=function(e){var t=e.title,n=e.editable,c=e.children,i=e.dataIndex,r=e.record,s=e.handleSave,o=Object(M.a)(e,ft),d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useRef)(null),m=Object(a.useContext)(_t);Object(a.useEffect)((function(){u&&h.current.focus()}),[u]);var O=function(){b(!u),m.setFieldsValue(Object(mt.a)({},i,r[i]))},p=function(){var e=Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,O(),s(Object(P.a)(Object(P.a)({},r),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=c;return n&&(v=u?Object(k.jsx)(it.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(k.jsx)(tt.a,{ref:h,onPressEnter:p,onBlur:p})}):Object(k.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24,height:"30px"},onClick:O,children:c})),Object(k.jsx)("td",Object(P.a)(Object(P.a)({},o),{},{children:v}))},Nt=function(e){var t=e.id,n=e.onClose,c=e.visible,i=e.update,r=Object(M.a)(e,xt),s=Object(a.useState)(),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)(),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Je({}),p=Object(l.a)(O,3),v=p[0],f=p[1],x=p[2];Object(a.useEffect)((function(){c&&x({endPoint:C+"/project/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:t}})}),[c]),Object(a.useEffect)((function(){!f&&v&&v.data&&!v.hasError&&j(v.data)}),[v]),Object(a.useEffect)((function(){var e=[];if(d)for(var t=at,n=Object.assign(t,d),a=0,c=Object.entries(n);a<c.length;a++){var i=Object(l.a)(c[a],2),r=i[0],s=i[1];if(yt[r]){var o=yt[r],j={ckey:o.brand,value:s};"date"===o.type&&(j.value=new Date(s).toLocaleString()),e.push(j)}}m(e)}),[d]);var g={body:{row:kt,cell:wt}},y=gt.map((function(e){return e.editable?Object(P.a)(Object(P.a)({},e),{},{onCell:function(t){return"Th\u1eddi gian t\u1ea1o"===t.ckey||"Th\u1eddi gian c\u1eadp nh\u1eadt"===t.ckey?{record:t,editable:!1,dataIndex:e.dataIndex,title:e.dataIndex,handleSave:_}:{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.dataIndex,handleSave:_}}}):e})),_=function(e){var t=Object(fe.a)(h),n=t.findIndex((function(t){return e.ckey===t.ckey})),a=t[n];t.splice(n,1,Object(P.a)(Object(P.a)({},a),e)),m(t)},w=Je({}),S=Object(l.a)(w,3),I=S[0],T=S[1],A=S[2];return Object(a.useEffect)((function(){T||!(null===I||void 0===I?void 0:I.data)||I.hasError||(N.b.success(I.data),i()),n()}),[I]),Object(k.jsx)("div",{className:pt.a.project_edit_container,children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:c,onCancel:n,title:"D\u1ef1 \xe1n ".concat(null===d||void 0===d?void 0:d.name),footer:Object(k.jsx)(H.a,{onClick:function(){var e={};if(h){var n,a=Object(xe.a)(h);try{for(a.s();!(n=a.n()).done;)for(var c=n.value,i=0,r=Object.entries(yt);i<r.length;i++){var s=Object(l.a)(r[i],2),o=s[0],d=s[1];c.ckey===d.brand&&(e[o]=c.value)}}catch(j){a.e(j)}finally{a.f()}}delete e.start_time,delete e.end_time,delete e.create_time,delete e.update_time,A({endPoint:C+"/project/",method:"POST",headers:{"Content-type":"application/json"},requestBody:Object(P.a)(Object(P.a)({},e),{},{pk:t,action:"update"})})},children:"C\u1eadp nh\u1eadt"}),children:Object(k.jsx)("div",{className:pt.a.project_edit_content,children:Object(k.jsx)(q.a,{components:g,rowClassName:function(){return"editable-row"},className:pt.a.project_table_content,columns:y,dataSource:h,showHeader:!1,pagination:!1})})}))})};var St=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")},Ct=function(e,t){var n=Object(a.useState)(""),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(e),o=Object(l.a)(s,2),d=o[0],j=o[1];return Object(a.useEffect)((function(){j(e.filter((function(e){return St(e[t]).toLowerCase().includes(St(i).toLowerCase())})))}),[i,e,t]),[i,function(e){r(e.target.value)},d]},It=function(e){var t=e.title,n=e.visible,a=e.setVisible,c=e.handleOK;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(rt.a,{visible:n,onOk:c,onCancel:function(){a(!1)},okText:"X\xe1c nh\u1eadn",cancelText:"\u0110\xf3ng",children:["X\xe1c nh\u1eadn x\xf3a ",t," ?"]})})},Tt=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),O=Object(l.a)(m,2),p=O[0],v=O[1],f=Object(a.useState)(0),x=Object(l.a)(f,2),g=x[0],y=x[1],_=[].concat(Object(fe.a)(ct.slice(0,1)),[{title:"T\xean d\u1ef1 \xe1n",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/projects/".concat(t.id),children:e})}}],Object(fe.a)(ct.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsxs)(et.b,{size:"middle",children:[Object(k.jsx)("button",{onClick:function(){return e=t.id,y(e),void h(!0);var e},children:"T\u1ed5ng quan"}),Object(k.jsx)("button",{onClick:function(){return e=t.id,y(e),void v(!0);var e},children:"C\u1eadp nh\u1eadt"}),Object(k.jsx)("button",{onClick:function(){return ae(t.id,t.name)},children:"X\xf3a"})]})}}]),w=Object(a.useState)([]),S=Object(l.a)(w,2),I=S[0],T=S[1],A=Je({}),E=Object(l.a)(A,3),D=E[0],P=E[1],M=E[2];Object(a.useEffect)((function(){n&&(M({endPoint:C+"/project/",method:"GET"}),c(!1))}),[n]),Object(a.useEffect)((function(){!P&&D&&D.data&&!D.hasError&&T(D.data)}),[D]);var B=Ct(I,"name"),F=Object(l.a)(B,3),L=F[0],G=F[1],z=F[2],Q=function(){c(!0)},V=Object(a.useState)(!1),J=Object(l.a)(V,2),W=J[0],Y=J[1],K=Object(a.useState)(""),U=Object(l.a)(K,2),X=U[0],R=U[1],Z=Je({}),$=Object(l.a)(Z,3),ee=$[0],te=$[1],ne=$[2],ae=function(e,t){R(t),y(e),Y(!0)};return Object(a.useEffect)((function(){!te&&ee&&ee.data&&!ee.hasError&&(Q(),N.b.success(ee.data))}),[ee]),Object(k.jsxs)("div",{className:"projects-list-wrapper",children:[Object(k.jsxs)("div",{className:"projects-list-control me-5",children:[Object(k.jsx)("div",{className:"projects-list-control-search",children:Object(k.jsx)(tt.a,{prefix:Object(k.jsx)(nt.a,{className:"site-form-item-icon"}),placeholder:"T\xean d\u1ef1 \xe1n",value:L,onChange:G})}),Object(k.jsx)("div",{className:"projects-list-control-actions",children:Object(k.jsx)(H.a,{onClick:function(){d(!0)},children:"Th\xeam"})})]}),Object(k.jsx)("div",{className:"projects-list-table",children:Object(k.jsx)(q.a,{columns:_,dataSource:z,bordered:!0,loading:P})}),Object(k.jsx)(It,{title:"d\u1ef1 \xe1n ".concat(X),visible:W,setVisible:Y,handleOK:function(){ne({endPoint:C+"/project/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"delete",pk:g}}),Y(!1)}}),Object(k.jsx)(ot,{update:Q,centered:!0,width:1e3,visible:o,onClose:function(){d(!1)}}),Object(k.jsx)(ht,{centered:!0,width:800,visible:b,onClose:function(){h(!1)},id:g}),Object(k.jsx)(Nt,{update:Q,centered:!0,width:800,visible:p,onClose:function(){v(!1)},id:g})]})},At=(n(487),n(105)),Et=(n(488),[{title:"M\xe3",dataIndex:"id",key:"id"},{title:"T\xean \u0111\u0103ng nh\u1eadp",dataIndex:"username",key:"username"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phone",key:"phone"},{title:"Ch\u1ee9c v\u1ee5",dataIndex:"role",key:"role"}]),Dt=(n(489),n(84)),Pt=n.n(Dt),Mt=["id","update","onClose","visible"],Bt=Te.a.Option,Ft=function(e){var t=e.id,n=e.update,c=e.onClose,i=e.visible,r=Object(M.a)(e,Mt),s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),v=p[0],f=p[1],x=Object(a.useState)([]),g=Object(l.a)(x,2),y=(g[0],g[1]),_=Je({}),w=Object(l.a)(_,3),S=w[0],I=w[1],T=w[2];function A(e){console.log("search:",e)}Object(a.useEffect)((function(){i&&T({endPoint:C+"/user/",method:"GET"})}),[i]),Object(a.useEffect)((function(){!I&&S&&S.data&&!S.hasError&&j(S.data)}),[S]),Object(a.useEffect)((function(){for(var e=[],t=0;t<5;t++)e.push({id:t,name:Pt.a.name.jobTitle()});m(e)}),[]);var E=Je({}),D=Object(l.a)(E,3),B=D[0],F=D[1],L=D[2];return Object(a.useEffect)((function(){!F&&B&&B.data&&!B.hasError?(n(),N.b.success(B.data)):!I&&S.hasError&&N.b.error(S.hasError),c()}),[B]),Object(k.jsx)("div",{className:"project_summary_container",children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:i,onCancel:c,title:"Th\xeam ng\u01b0\u1eddi d\xf9ng v\xe0o d\u1ef1 \xe1n",footer:Object(k.jsx)(H.a,{onClick:function(){L({endPoint:C+"/project-user/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"update",user_id:v,project_id:t}})},children:"Th\xeam v\xe0o d\u1ef1 \xe1n"}),children:Object(k.jsxs)("div",{className:"project-user-add-container",children:[Object(k.jsxs)("div",{className:"project-user-add-select",children:["Ch\u1ee9c v\u1ee5:",Object(k.jsx)(Te.a,{style:{width:200},placeholder:"Ch\u1ecdn ch\u1ee9c v\u1ee5",optionFilterProp:"children",onChange:function(e){console.log("selected role ".concat(e)),y(e)},onSearch:A,children:h&&h.map((function(e){return Object(k.jsx)(Bt,{value:e.name,children:e.name},e.id)}))})]}),Object(k.jsxs)("div",{className:"project-user-add-select",children:["Ng\u01b0\u1eddi d\xf9ng:",Object(k.jsx)(Te.a,{showSearch:!0,style:{width:200},placeholder:"Ch\u1ecdn ng\u01b0\u1eddi d\xf9ng",optionFilterProp:"children",onChange:function(e){console.log("selected user ".concat(e)),f(e)},onSearch:A,filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:d&&d.map((function(e){return Object(k.jsx)(Bt,{value:e.id,children:e.name},e.id)}))})]})]})}))})},Lt=function(e){var t=e.id,n=e.data,c=e.refetch,i=[].concat(Object(fe.a)(Et.slice(0,1)),[{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/users/".concat(t.key),children:e})}}],Object(fe.a)(Et.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsxs)(et.b,{size:"middle",children:[Object(k.jsx)("button",{children:"SMS"}),Object(k.jsx)("button",{children:"Tho\xe1t d\u1ef1 \xe1n"})]})}}]),r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1];Object(a.useEffect)((function(){if(n){var e,t=[],a=Object(xe.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value.user,i={id:c.id,name:c.name,username:c.username,phone:c.phone,role:c.role};t.push(i)}}catch(r){a.e(r)}finally{a.f()}j(t)}}),[n]);var u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1];return Object(k.jsxs)("div",{className:"project-users-container",children:[Object(k.jsxs)("div",{className:"project-users-control",children:[Object(k.jsx)("div",{className:"project-list-control-report",children:Object(k.jsx)(H.a,{children:"Xu\u1ea5t b\xe1o c\xe1o"})}),Object(k.jsx)("div",{className:"project-list-control-add",children:Object(k.jsx)(H.a,{onClick:function(){m(!0)},children:"Th\xeam ng\u01b0\u1eddi d\xf9ng v\xe0o d\u1ef1 \xe1n"})})]}),Object(k.jsx)("div",{className:"project-list-table",children:Object(k.jsx)(q.a,{columns:i,dataSource:d,bordered:!0})}),Object(k.jsx)(Ft,{update:c,id:t,centered:!0,width:800,visible:h,onClose:function(){m(!1)}})]})},Ht=(n(1978),[{title:"STT",dataIndex:"index",key:"index"},{title:"L\xe1i m\xe1y ch\xednh",dataIndex:"mainDriver",key:"mainDriver"},{title:"L\xe1i m\xe1y ph\u1ee5",dataIndex:"sideDriver",key:"sideDriver"},{title:"Qu\u1ea3n l\xed",dataIndex:"manager",key:"manager"},{title:"T\xecnh tr\u1ea1ng s\u1eed d\u1ee5ng",dataIndex:"status",key:"status"},{title:"Kho\u1ea3ng ho\u1ea1t \u0111\u1ed9ng",dataIndex:"range",key:"range"}]),qt=(n(1979),["id","onClose","update","visible"]),Gt=Te.a.Option,zt=function(e){var t=e.id,n=e.onClose,c=e.update,i=e.visible,r=Object(M.a)(e,qt),s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),v=(p[0],p[1]),f=Object(a.useState)([]),x=Object(l.a)(f,2),g=(x[0],x[1],Je({})),y=Object(l.a)(g,3),_=y[0],w=y[1],S=y[2];Object(a.useEffect)((function(){i&&S({endPoint:C+"/machine/",method:"GET"})}),[i]),Object(a.useEffect)((function(){!w&&_&&_.data&&!_.hasError&&j(_.data)}),[_]),Object(a.useEffect)((function(){for(var e=[],t=0;t<5;t++)e.push({id:t,name:Pt.a.name.jobTitle()});v(e)}),[]);var I=Je({}),T=Object(l.a)(I,3),A=T[0],E=T[1],D=T[2];return Object(a.useEffect)((function(){!E&&A&&A.data&&!A.hasError?(c(),N.b.success(A.data)):!w&&_.hasError&&N.b.error(_.hasError),n()}),[A]),Object(k.jsx)("div",{className:"project_summary_container",children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:i,onCancel:n,title:"Th\xeam m\xe1y m\xf3c v\xe0o d\u1ef1 \xe1n",footer:Object(k.jsx)(H.a,{onClick:function(){D({endPoint:C+"/project-machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"update",machine_id:h,project_id:t}})},children:"Th\xeam v\xe0o d\u1ef1 \xe1n"}),children:Object(k.jsx)("div",{className:"project-device-add-container",children:Object(k.jsxs)("div",{className:"project-device-add-select",children:["Thi\u1ebft b\u1ecb:",Object(k.jsx)(Te.a,{showSearch:!0,style:{width:200},placeholder:"Ch\u1ecdn thi\u1ebft b\u1ecb",optionFilterProp:"children",onChange:function(e){console.log("selected device ".concat(e)),m(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:d&&d.map((function(e){return Object(k.jsx)(Gt,{value:e.id,children:e.name},e.id)}))})]})})}))})},Qt=function(e){var t=e.id,n=e.data,c=e.refetch,i=[].concat(Object(fe.a)(Ht.slice(0,1)),[{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/devices/".concat(t.key),children:e})}}],Object(fe.a)(Ht.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsxs)(et.b,{size:"middle",children:[Object(k.jsx)("button",{children:"SMS"}),Object(k.jsx)("button",{children:"Tho\xe1t d\u1ef1 \xe1n"})]})}}]),r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1];Object(a.useEffect)((function(){if(n){var e,t=[],a=Object(xe.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value.machine,i={id:c.id,name:c.name,create_time:c.create_time,update_time:c.update_time};t.push(i)}}catch(r){a.e(r)}finally{a.f()}j(t)}}),[n]);var u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1];return Object(k.jsxs)("div",{className:"project-devices-container",children:[Object(k.jsxs)("div",{className:"project-devices-control",children:[Object(k.jsx)("div",{className:"project-list-control-report",children:Object(k.jsx)(H.a,{children:"Xu\u1ea5t b\xe1o c\xe1o"})}),Object(k.jsx)("div",{className:"project-list-control-add",children:Object(k.jsx)(H.a,{onClick:function(){m(!0)},children:"Th\xeam m\xe1y m\xf3c v\xe0o d\u1ef1 \xe1n"})})]}),Object(k.jsx)("div",{className:"project-list-table",children:Object(k.jsx)(q.a,{columns:i,dataSource:d,bordered:!0})}),Object(k.jsx)(zt,{update:function(){c(!0)},id:t,centered:!0,width:800,visible:h,onClose:function(){m(!1)}})]})},Vt=n(183),Jt=n.n(Vt),Wt=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],Yt={code:{brand:"M\xe3 d\u1ef1 \xe1n",type:"string"},name:{brand:"T\xean d\u1ef1 \xe1n",type:"string"},description:{brand:"M\xf4 t\u1ea3 t\u1ed5ng quan",type:"string"},manager:{brand:"Qu\u1ea3n l\xed",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"},start_time:{brand:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",type:"date"},end_time:{brand:"Th\u1eddi gian k\u1ebft th\xfac",type:"date"}},Kt=function(e){var t=e.data,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){var e=[];if(t)for(var n=0,a=Object.entries(t);n<a.length;n++){var c=Object(l.a)(a[n],2),i=c[0],s=c[1];if(Yt[i]){var o=Yt[i],d={ckey:o.brand,value:s};"date"===o.type&&(d.value=new Date(s).toLocaleString()),e.push(d)}}r(e)}),[t]),Object(k.jsx)("div",{className:Jt.a.project_summary_container,children:Object(k.jsx)("div",{className:Jt.a.project_summary_content,children:Object(k.jsx)(q.a,{className:Jt.a.project_table_content,columns:Wt,dataSource:i,showHeader:!1,pagination:!1})})})},Ut=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Je({}),s=Object(l.a)(r,3),o=s[0],d=s[1],j=s[2],u=Object(a.useState)(!0),b=Object(l.a)(u,2),h=b[0],m=b[1];Object(a.useEffect)((function(){h&&(j(e),m(!1))}),[h]),Object(a.useEffect)((function(){!d&&o&&o.data&&!o.hasError&&i(o.data)}),[o]);return[c,function(){m(!0)}]},Xt=function(e){var t,n=e.match,c=null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.id,i=Object(a.useState)("summary"),r=Object(l.a)(i,2),s=r[0],o=r[1],d=Ut({endPoint:C+"/project/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:c}}),j=Object(l.a)(d,1)[0],u=Ut({endPoint:C+"/project-user/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",project_id:c}}),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Ut({endPoint:C+"/project-machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",project_id:c}}),p=Object(l.a)(O,2),v=p[0],f=p[1];return Object(k.jsx)("div",{className:"project-detail-container",children:Object(k.jsxs)("div",{className:"project-detail-wrapper",children:[Object(k.jsxs)(At.a,{style:{display:"flex",justifyContent:"space-between"},onClick:function(e){o(e.key)},selectedKeys:[s],mode:"inline",children:[Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Th\xf4ng tin chung"},"summary"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Danh s\xe1ch ng\u01b0\u1eddi d\xf9ng"},"user"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Danh s\xe1ch m\xe1y m\xf3c"},"device"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Danh s\xe1ch h\u1ea1ng m\u1ee5c"},"category"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Nhi\xean li\u1ec7u"},"fuel")]}),Object(k.jsxs)("div",{className:"project-detail-content",children:["summary"===s&&Object(k.jsx)(Kt,{data:j}),"user"===s&&Object(k.jsx)(Lt,{id:c,data:h,refetch:m}),"device"===s&&Object(k.jsx)(Qt,{id:c,data:v,refetch:f})]})]})})},Rt=(n(1980),[{title:"ID",dataIndex:"id"},{title:"Sim Imei",dataIndex:"sim_imei"},{title:"Caster Ip",dataIndex:"caster_ip"},{title:"NTRIP Username",dataIndex:"ntrip_username"},{title:"NTRIP Passwword",dataIndex:"ntrip_password"},{title:"Mount Point",dataIndex:"mount_point"},{title:"Tr\u1ea1ng th\xe1i ho\u1ea1t \u0111\u1ed9ng",dataIndex:"status",render:function(e){return Object(k.jsx)("div",{children:e?"C\xf3":"Kh\xf4ng"})}},{title:"Th\u1eddi gian t\u1ea1o",dataIndex:"create_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}}]),Zt=Rt,$t=["update","onClose"],en=function(e){var t=e.update,n=e.onClose,a=Object(M.a)(e,$t),c=it.a.useForm(),i=Object(l.a)(c,1)[0],r=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.a)(Object(P.a)({},t),{},{action:"create"}),e.next=3,fetch(C+"/device/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},a),{},{onCancel:n,title:"Th\xeam thi\u1ebft b\u1ecb m\u1edbi",footer:Object(k.jsx)(H.a,{onClick:function(){i.submit()},children:"\u0110\u0103ng k\xfd"}),children:Object(k.jsxs)("div",{className:"device-add-container",children:[Object(k.jsxs)(it.a,{form:i,layout:"vertical",onFinish:function(e){r(e).then((function(e){t(),N.b.success(e.response),n()}))},onFinishFailed:function(){N.b.error("Submit failed!")},autoComplete:"off",children:[Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"sim_imei",label:"IMEI",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"name",label:"Name",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"caster_ip",label:"Caster Ip",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"caster_port",label:"Caster Port",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"ntrip_username",label:"Ntrip Username",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"ntrip_pass",label:"Ntrip Pass",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"mount_point",label:"Mount Point",children:Object(k.jsx)(tt.a,{placeholder:""})})})]}),Object(k.jsx)("div",{className:"device-add-item"})]})}))},tn=n(214),nn=n.n(tn),an=["id","onClose","visible","update"],cn=function(e){var t=e.id,n=e.onClose,c=e.visible,i=e.update,r=Object(M.a)(e,an),s=it.a.useForm(),o=Object(l.a)(s,1)[0],d=Object(a.useState)(),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Je({}),m=Object(l.a)(h,3),O=m[0],p=m[1],v=m[2];Object(a.useEffect)((function(){c&&v({endPoint:C+"/device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:t}})}),[c]),Object(a.useEffect)((function(){!p&&O&&O.data&&!O.hasError&&b(O.data)}),[O]);var f=Je({}),x=Object(l.a)(f,3),g=x[0],y=x[1],_=x[2];Object(a.useEffect)((function(){y||!(null===g||void 0===g?void 0:g.data)||g.hasError||(i(),N.b.success(g.data),n())}),[g]);return Object(k.jsx)("div",{className:nn.a.device_edit_container,children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:c,onCancel:n,title:"C\u1eadp nh\u1eadt thi\u1ebft b\u1ecb ".concat(null===u||void 0===u?void 0:u.name),footer:Object(k.jsx)(H.a,{onClick:function(){o.submit()},children:"C\u1eadp nh\u1eadt"}),children:Object(k.jsxs)("div",{className:nn.a.device_edit_content,children:[!u&&Object(k.jsx)(Ae.a,{}),u&&Object(k.jsxs)(it.a,{form:o,layout:"vertical",onFinish:function(e){console.log(e),_({endPoint:C+"/device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:Object(P.a)(Object(P.a)({},e),{},{pk:t,action:"update"})})},onFinishFailed:function(){N.b.error("Submit failed!")},autoComplete:"off",children:[Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"sim_imei",label:"IMEI",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.sim_imei})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"name",label:"Name",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.name})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"caster_ip",label:"Caster Ip",children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.caster_ip})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"caster_port",label:"Caster Port",children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.caster_port})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"ntrip_username",label:"Ntrip Username",children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.ntrip_username})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"ntrip_password",label:"Ntrip Password",children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.ntrip_password})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"mount_point",label:"Mount Point",children:Object(k.jsx)(tt.a,{placeholder:"",defaultValue:u.mount_point})})})]})]})}))})},rn=n(184),sn=n.n(rn),on=["id","onClose","visible"],dn=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],ln={sim_imei:{brand:"Sim Imei",type:"string"},name:{brand:"T\xean thi\u1ebft b\u1ecb",type:"string"},caster_ip:{brand:"Caster Ip",type:"string"},caster_port:{brand:"Caster Port",type:"string"},ntrip_username:{brand:"Ntrip Username",type:"string"},ntrip_password:{brand:"Ntrip Password",type:"string"},mount_point:{brand:"Mount Point",type:"string"}},jn=function(e){var t=e.id,n=e.onClose,c=e.visible,i=Object(M.a)(e,on),r=Object(a.useState)(),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Je({}),O=Object(l.a)(m,3),p=O[0],v=O[1],f=O[2];return Object(a.useEffect)((function(){c&&f({endPoint:C+"/device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:t}})}),[c]),Object(a.useEffect)((function(){!v&&p&&p.data&&!p.hasError&&d(p.data)}),[p]),Object(a.useEffect)((function(){var e=[];if(o)for(var t=0,n=Object.entries(o);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];if(ln[c]){var r=ln[c],s={ckey:r.brand,value:i};"date"===r.type&&(s.value=new Date(i).toLocaleString()),e.push(s)}}h(e)}),[o]),Object(k.jsx)("div",{className:sn.a.device_summary_container,children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},i),{},{visible:c,onCancel:n,title:"Thi\u1ebft b\u1ecb ".concat(null===o||void 0===o?void 0:o.name),footer:Object(k.jsx)(H.a,{onClick:n,children:"\u0110\xf3ng"}),children:Object(k.jsx)("div",{className:sn.a.device_summary_content,children:Object(k.jsx)(q.a,{className:sn.a.device_table_content,columns:dn,dataSource:b,showHeader:!1,pagination:!1,loading:v})})}))})},un=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),O=Object(l.a)(m,2),p=O[0],v=O[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),g=x[0],y=x[1],_=Object(a.useState)(0),w=Object(l.a)(_,2),S=w[0],I=w[1],T=Je({}),A=Object(l.a)(T,3),E=A[0],D=A[1],M=A[2];Object(a.useEffect)((function(){n&&(M({endPoint:C+"/device/",method:"GET"}),c(!1))}),[n]),Object(a.useEffect)((function(){!D&&E&&E.data&&!E.hasError&&d(E.data.map((function(e){return Object(P.a)(Object(P.a)({},e),{},{status:Math.abs(new Date(e.update_time).getTime()-Date.now())<12e4})})))}),[E]);var B=[].concat(Object(fe.a)(Zt.slice(0,1)),[{title:"T\xean thi\u1ebft b\u1ecb",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/devices/".concat(t.id),children:e})}}],Object(fe.a)(Zt.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsxs)(et.b,{size:"middle",children:[Object(k.jsx)("button",{onClick:function(){return e=t.id,I(e),void v(!0);var e},children:"T\u1ed5ng quan"}),Object(k.jsx)("button",{onClick:function(){return e=t.id,I(e),void y(!0);var e},children:"C\u1eadp nh\u1eadt"}),Object(k.jsx)("button",{onClick:function(){return ce(t.id,t.name)},children:"X\xf3a"})]})}}]),F=Ct(o,"name"),L=Object(l.a)(F,3),G=L[0],z=L[1],Q=L[2],V=function(){c(!0)},J=Object(a.useState)(!1),W=Object(l.a)(J,2),Y=W[0],K=W[1],U=Object(a.useState)(""),X=Object(l.a)(U,2),R=X[0],Z=X[1],$=Je({}),ee=Object(l.a)($,3),te=ee[0],ne=ee[1],ae=ee[2],ce=function(e,t){Z(t),I(e),K(!0)};return Object(a.useEffect)((function(){!ne&&te&&te.data&&!te.hasError&&(V(),N.b.success(te.data))}),[te]),Object(k.jsxs)("div",{className:"devices-list-wrapper",children:[Object(k.jsxs)("div",{className:"devices-list-control",children:[Object(k.jsx)("div",{className:"devices-list-control-search",children:Object(k.jsx)(tt.a,{prefix:Object(k.jsx)(nt.a,{className:"site-form-item-icon"}),value:G,onChange:z,placeholder:"T\xean thi\u1ebft b\u1ecb"})}),Object(k.jsx)("div",{className:"devices-list-control-actions",children:Object(k.jsx)(H.a,{onClick:function(){h(!0)},children:"Th\xeam thi\u1ebft b\u1ecb"})})]}),Object(k.jsx)("div",{className:"devices-list-table",children:Object(k.jsx)(q.a,{columns:B,dataSource:Q,bordered:!0,loading:D})}),Object(k.jsx)(en,{update:V,centered:!0,width:800,visible:b,onClose:function(){h(!1)}}),Object(k.jsx)(jn,{centered:!0,width:800,visible:p,onClose:function(){v(!1)},id:S}),Object(k.jsx)(cn,{update:V,centered:!0,width:800,visible:g,onClose:function(){y(!1)},id:S}),Object(k.jsx)(It,{title:"thi\u1ebft b\u1ecb ".concat(R),visible:Y,setVisible:K,handleOK:function(){ae({endPoint:C+"/device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"delete",pk:S}}),K(!1)}})]})},bn=(n(1981),n(2024)),hn=n(90),mn=[{title:"Date",dataIndex:"date"},{title:"Average Speed",dataIndex:"avg_speed"},{title:"Average Accuracy",dataIndex:"avg_accuracy"},{title:"Total time",dataIndex:"total_time"}],On=(n(1982),n(2030)),pn=On.a.Panel,vn=function(e){var t=e.data,n=Object(a.useState)(!1),c=Object(l.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(),h=Object(l.a)(b,2),m=h[0],O=h[1];Object(a.useEffect)((function(){O(null===t||void 0===t?void 0:t.map((function(e){return{id:null===e||void 0===e?void 0:e.id,device:null===e||void 0===e?void 0:e.device_id,machine:null===e||void 0===e?void 0:e.machine_id,createdAt:new Date(null===e||void 0===e?void 0:e.create_time).toLocaleString(),updatedAt:new Date(null===e||void 0===e?void 0:e.update_time).toLocaleString(),key:null===e||void 0===e?void 0:e.create_time}})))}),[t]);var p=function(){r(!i)},v=[{width:"4%",title:"id",key:"id",dataIndex:"id",render:function(e,t){return Object(k.jsxs)("div",{children:["ID: ",t.id]})}},{title:"",key:"image",dataIndex:"image",width:50,render:function(){return Object(k.jsx)("img",{alt:"no?",src:"https://s3-ap-northeast-1.amazonaws.com/agri-info-design-public/icons/ic_person_black_48dp.png",className:"align-self-center",style:{height:"40px"}})}},{title:"Info",dataIndex:"info",key:"info",width:800,render:function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"fw-bold fs-6",children:["Deivce: ",t.device]}),Object(k.jsxs)("div",{className:"fw-bold fs-6",children:["Machine: ",t.machine]})]})}},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt",width:1e3,responsive:["sm"],render:function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["Created Time: ",t.createdAt]}),Object(k.jsxs)("div",{children:["Updated Time: ",t.updatedAt]})]})}},{title:"Action",key:"action",render:function(e){return Object(k.jsxs)("div",{className:"control-buttons",children:[Object(k.jsx)(s.b,{to:"/fields/".concat(e.id),children:Object(k.jsx)(H.a,{type:"primary",size:"large",children:"Detail"})}),Object(k.jsx)(H.a,{type:"primary",danger:!0,size:"large",onClick:function(){p(),u(e)},children:"Delete"})]})}}];return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsx)(On.a,{defaultActiveKey:["1"],children:Object(k.jsx)(pn,{header:"L\u1ecbch tr\xecnh ho\u1ea1t \u0111\u1ed9ng trong ng\xe0y ",children:Object(k.jsx)(q.a,{dataSource:m,columns:v,showHeader:!1,pagination:!1})},"1")})}),Object(k.jsx)("div",{children:Object(k.jsx)(z.a,{visible:i,onOk:function(){r(!1);var e=null===t||void 0===t?void 0:t.filter((function(e){return e.name!==j.name}));O(e),u(t)},onCancel:p,okText:"OK",cancelText:"Cancel",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(Q.a,{style:{fontSize:"30px",margin:"0 10px",color:"gray"}}),'Are you sure want to delete task "',null===j||void 0===j?void 0:j.device,'"']})})})]})},fn=bn.a.RangePicker,xn=function(e){var t=e.data,n=t.task;return Object(k.jsxs)("div",{className:"device-detail-item-wrapper",children:[Object(k.jsxs)("div",{className:"device-detail-item-title",children:["Ng\xe0y ",t.date]}),Object(k.jsxs)("div",{className:"device-tasks-list-table",children:[Object(k.jsx)("div",{className:"text-start fw-bold fs-5 mb-3",children:"Th\xf4ng s\u1ed1 trong ng\xe0y"}),Object(k.jsx)(q.a,{columns:mn,dataSource:[t],bordered:!0,pagination:!1})]}),Object(k.jsx)("div",{children:n&&Object(k.jsx)(vn,{data:n})})]})},gn=function(e){var t=e.id,n=e.currentDateData,c=Object(d.g)(),i=Object(d.h)(),r=Je({}),s=Object(l.a)(r,3),o=s[0],j=s[1],u=s[2],b=Object(a.useState)([]),h=Object(l.a)(b,2),m=h[0],O=h[1];Object(a.useEffect)((function(){var e=[];if(n){for(var t=0,a=Object.entries(n);t<a.length;t++){var c=Object(l.a)(a[t],2),i=c[0],r=c[1];e.push(Object(P.a)(Object(P.a)({},r),{},{date:i}))}O(e)}}),[n]),Object(a.useEffect)((function(){if(!j&&o&&o.data&&!o.hasError){for(var e=[],t=0,n=Object.entries(o.data);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];e.push(Object(P.a)(Object(P.a)({},i),{},{date:c}))}O(e)}}),[o]);var p=Object(k.jsx)(We.a,{style:{fontSize:40},spin:!0});return Object(k.jsx)("div",{className:"device-detail",children:Object(k.jsxs)("div",{className:"device-tasks-list-wrapper",children:[Object(k.jsxs)("div",{className:"device-tasks-list-control",children:[Object(k.jsx)("div",{className:"device-tasks-list-control-search",children:Object(k.jsx)(tt.a,{prefix:Object(k.jsx)(nt.a,{className:"site-form-item-icon"})})}),Object(k.jsx)("div",{className:"device-tasks-list-calendar",children:Object(k.jsx)(fn,{onChange:function(e,n){var a=n[0].split("-").reverse().join("/")+" 0:00:00",c=n[1].split("-").reverse().join("/")+" 23:59:59";console.log(a,c),u({endPoint:C+"/task-info/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{device_id:t,start:a,end:c}})}})}),Object(k.jsx)("div",{className:"device-tasks-list-control-actions",children:Object(k.jsx)(H.a,{onClick:function(){c.push(i.pathname+"/tasks")},children:"H\xe0nh tr\xecnh c\u1ee7a thi\u1ebft b\u1ecb"})})]}),j&&Object(k.jsx)(Ae.a,{indicator:p}),m&&m.map((function(e){return Object(k.jsx)(xn,{data:e},e.date)})),0===m.length&&Object(k.jsx)("div",{children:Object(k.jsx)(hn.a,{})})]})})},yn=function(e){var t=e.id;return Object(k.jsx)("div",{className:"device-task",children:Object(k.jsx)(Ue,{id:t})})},_n=(n(1983),n(140)),kn=n.n(_n),wn=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],Nn={name:{brand:"T\xean thi\u1ebft b\u1ecb",type:"string"},sim_imei:{brand:"Sim Imei",type:"string"},sim_model:{brand:"Sim Model",type:"string"},sim_manufacturer:{brand:"Sim Manufacturer",type:"string"},sim_signal_strength:{brand:"Sim Signal Strength",type:"string"},sim_status:{brand:"Sim Status",type:"string"},description:{brand:"M\xf4 t\u1ea3",type:"string"},caster_ip:{brand:"Caster Ip",type:"string"},caster_port:{brand:"Caster Port",type:"string"},ntrip_username:{brand:"NTRIP Username",type:"string"},ntrip_password:{brand:"NTRIP Password",type:"string"},mount_point:{brand:"Mount Point",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"}},Sn=function(e){var t=e.data,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){var e=[];if(t)for(var n=0,a=Object.entries(t);n<a.length;n++){var c=Object(l.a)(a[n],2),i=c[0],s=c[1];if(Nn[i]){var o=Nn[i],d={ckey:o.brand,value:s};"date"===o.type&&(d.value=new Date(s).toLocaleString()),e.push(d)}}r(e)}),[t]),Object(k.jsx)("div",{className:kn.a.device_summary_container,children:Object(k.jsxs)("div",{className:kn.a.device_summary_content,children:[Object(k.jsx)(q.a,{className:kn.a.device_table_content,columns:wn,dataSource:null===i||void 0===i?void 0:i.slice(0,7),showHeader:!1,pagination:!1}),Object(k.jsx)(q.a,{className:kn.a.device_table_content,columns:wn,dataSource:null===i||void 0===i?void 0:i.slice(7),showHeader:!1,pagination:!1})]})})},Cn=n(290),In=function(e){var t,n,c=e.match;console.log(c);var i=c.params.id,r=Object(a.useState)("summary"),s=Object(l.a)(r,2),o=s[0],d=s[1],j=function(e){d(e)},u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Ut({endPoint:C+"/device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:i}}),p=Object(l.a)(O,1)[0],v=Ut({endPoint:C+"/task-info/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{device_id:i}}),f=Object(l.a)(v,2),x=f[0];f[1];return Object(a.useEffect)((function(){p&&p.update_time&&m(Math.abs(new Date(p.update_time).getTime()-Date.now())<12e4)}),[p]),Object(k.jsxs)("div",{className:"device-detail-container",children:[Object(k.jsxs)("div",{className:"device-detail-title",children:["Thi\u1ebft b\u1ecb ",null!==(t=null===p||void 0===p?void 0:p.name)&&void 0!==t?t:"",h&&Object(k.jsx)("span",{className:"device-tag-active",children:"\u0110ang ho\u1ea1t \u0111\u1ed9ng"}),!h&&Object(k.jsx)("span",{className:"device-tag-no-active",children:"Kh\xf4ng ho\u1ea1t \u0111\u1ed9ng"})]}),Object(k.jsxs)("div",{className:"device-detail-date",children:[Object(k.jsx)("div",{className:"device-detail-date-icon",children:Object(k.jsx)(Cn.a,{})}),"Ng\xe0y kh\u1edfi t\u1ea1o:  \n                ".concat(null!==(n=Ne()(null===p||void 0===p?void 0:p.create_time).format("DD/MM/YYYY HH:mm:ss"))&&void 0!==n?n:"")]}),Object(k.jsxs)("div",{className:"device-detail-wrapper",children:[Object(k.jsxs)("div",{className:"device-detail-navigate",children:[Object(k.jsx)("div",{className:"summary"===o?"device-detail-navigate-select":"",onClick:function(){return j("summary")},children:"Th\xf4ng tin"}),Object(k.jsx)("div",{className:"tasks"===o?"device-detail-navigate-select":"",onClick:function(){return j("tasks")},children:"L\u1ecbch tr\xecnh ho\u1ea1t \u0111\u1ed9ng theo ng\xe0y"}),Object(k.jsx)("div",{className:"all-tasks"===o?"device-detail-navigate-select":"",onClick:function(){return j("all-tasks")},children:"L\u1ecbch s\u1eed ho\u1ea1t \u0111\u1ed9ng"})]}),Object(k.jsxs)("div",{className:"device-detail-content",children:["summary"===o&&Object(k.jsx)(Sn,{data:p}),"tasks"===o&&Object(k.jsx)(gn,{id:i,currentDateData:x}),"all-tasks"===o&&Object(k.jsx)(yn,{id:i})]})]})]})},Tn=(n(1984),["onClose","update"]),An=function(e){var t=e.onClose,n=e.update,a=Object(M.a)(e,Tn),c=it.a.useForm(),i=Object(l.a)(c,1)[0],r=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.a)(Object(P.a)({},t),{},{action:"create"}),e.next=3,fetch(C+"/machine/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},a),{},{title:"Th\xeam m\xe1y m\u1edbi",onCancel:t,footer:Object(k.jsx)(H.a,{onClick:function(){i.submit()},children:"\u0110\u0103ng k\xfd"}),children:Object(k.jsxs)("div",{className:"machine-add-container",children:[Object(k.jsxs)(it.a,{form:i,layout:"vertical",onFinish:function(e){r(e).then((function(e){n(),N.b.success(e.response),t()}))},onFinishFailed:function(){N.b.error("Submit failed!")},autoComplete:"off",children:[Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"name",label:"Name",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"model",label:"Model",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"description",label:"Description",children:Object(k.jsx)(tt.a,{placeholder:""})})})]}),Object(k.jsx)("div",{className:"machine-add-item"})]})}))},En={id:"",name:"",model:"",description:""},Dn=[{title:"ID",dataIndex:"id"},{title:"Ki\u1ec3u xe",dataIndex:"model"},{title:"M\xf4 t\u1ea3",dataIndex:"description"},{title:"Th\u1eddi gian t\u1ea1o",dataIndex:"create_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}},{title:"Th\u1eddi gian c\u1eadp nh\u1eadt",dataIndex:"update_time",render:function(e){if(e)return Object(k.jsx)("div",{children:new Date(e).toLocaleString()})}}],Pn=n(185),Mn=n.n(Pn),Bn=["id","onClose","visible"],Fn=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],Ln={name:{brand:"T\xean m\xe1y m\xf3c",type:"string"},model:{brand:"Ki\u1ec3u xe",type:"string"},description:{brand:"M\xf4 t\u1ea3 t\u1ed5ng quan",type:"string"},driver:{brand:"L\xe1i m\xe1y",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"},start_time:{brand:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",type:"date"},end_time:{brand:"Th\u1eddi gian k\u1ebft th\xfac",type:"date"}},Hn=function(e){var t=e.id,n=e.onClose,c=e.visible,i=Object(M.a)(e,Bn),r=Object(a.useState)(),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Je({}),O=Object(l.a)(m,3),p=O[0],v=O[1],f=O[2];return Object(a.useEffect)((function(){c&&f({endPoint:C+"/machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:t}})}),[c]),Object(a.useEffect)((function(){!v&&p&&p.data&&!p.hasError&&d(p.data)}),[p]),Object(a.useEffect)((function(){var e=[];if(o)for(var t=0,n=Object.entries(o);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];if(Ln[c]){var r=Ln[c],s={ckey:r.brand,value:i};"date"===r.type&&(s.value=new Date(i).toLocaleString()),e.push(s)}}h(e)}),[o]),Object(k.jsx)("div",{className:Mn.a.machine_summary_container,children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},i),{},{visible:c,onCancel:n,title:"D\u1ef1 \xe1n ".concat(null===o||void 0===o?void 0:o.name),footer:Object(k.jsx)(H.a,{onClick:n,children:"\u0110\xf3ng"}),children:Object(k.jsx)("div",{className:Mn.a.machine_summary_content,children:Object(k.jsx)(q.a,{className:Mn.a.machine_table_content,columns:Fn,dataSource:b,showHeader:!1,pagination:!1,loading:v})})}))})},qn=n(186),Gn=n.n(qn),zn=["index"],Qn=["title","editable","children","dataIndex","record","handleSave"],Vn=["id","onClose","visible","update"],Jn=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value",editable:!0}],Wn={name:{brand:"T\xean m\xe1y m\xf3c",type:"string"},model:{brand:"Ki\u1ec3u xe",type:"string"},description:{brand:"M\xf4 t\u1ea3 t\u1ed5ng quan",type:"string"},driver:{brand:"L\xe1i m\xe1y",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"},start_time:{brand:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u",type:"date"},end_time:{brand:"Th\u1eddi gian k\u1ebft th\xfac",type:"date"}},Yn=Object(a.createContext)(null),Kn=function(e){e.index;var t=Object(M.a)(e,zn),n=it.a.useForm(),a=Object(l.a)(n,1)[0];return Object(k.jsx)(it.a,{form:a,component:!1,children:Object(k.jsx)(Yn.Provider,{value:a,children:Object(k.jsx)("tr",Object(P.a)({},t))})})},Un=function(e){var t=e.title,n=e.editable,c=e.children,i=e.dataIndex,r=e.record,s=e.handleSave,o=Object(M.a)(e,Qn),d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useRef)(null),m=Object(a.useContext)(Yn);Object(a.useEffect)((function(){u&&h.current.focus()}),[u]);var O=function(){b(!u),m.setFieldsValue(Object(mt.a)({},i,r[i]))},p=function(){var e=Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,O(),s(Object(P.a)(Object(P.a)({},r),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=c;return n&&(v=u?Object(k.jsx)(it.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(k.jsx)(tt.a,{ref:h,onPressEnter:p,onBlur:p})}):Object(k.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24,height:"30px"},onClick:O,children:c})),Object(k.jsx)("td",Object(P.a)(Object(P.a)({},o),{},{children:v}))},Xn=function(e){var t=e.id,n=e.onClose,c=e.visible,i=e.update,r=Object(M.a)(e,Vn),s=Object(a.useState)(),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)(),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Je({}),p=Object(l.a)(O,3),v=p[0],f=p[1],x=p[2];Object(a.useEffect)((function(){c&&x({endPoint:C+"/machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:t}})}),[c]),Object(a.useEffect)((function(){!f&&v&&v.data&&!v.hasError&&j(v.data)}),[v]),Object(a.useEffect)((function(){var e=[];if(d)for(var t=En,n=Object.assign(t,d),a=0,c=Object.entries(n);a<c.length;a++){var i=Object(l.a)(c[a],2),r=i[0],s=i[1];if(Wn[r]){var o=Wn[r],j={ckey:o.brand,value:s};"date"===o.type&&(j.value=new Date(s).toLocaleString()),e.push(j)}}m(e)}),[d]);var g={body:{row:Kn,cell:Un}},y=Jn.map((function(e){return e.editable?Object(P.a)(Object(P.a)({},e),{},{onCell:function(t){return"Th\u1eddi gian t\u1ea1o"===t.ckey||"Th\u1eddi gian c\u1eadp nh\u1eadt"===t.ckey?{record:t,editable:!1,dataIndex:e.dataIndex,title:e.dataIndex,handleSave:_}:{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.dataIndex,handleSave:_}}}):e})),_=function(e){var t=Object(fe.a)(h),n=t.findIndex((function(t){return e.ckey===t.ckey})),a=t[n];t.splice(n,1,Object(P.a)(Object(P.a)({},a),e)),m(t)},w=Je({}),S=Object(l.a)(w,3),I=S[0],T=S[1],A=S[2];return Object(a.useEffect)((function(){T||!(null===I||void 0===I?void 0:I.data)||I.hasError||(N.b.success(I.data),i()),n()}),[I]),Object(k.jsx)("div",{className:Gn.a.machine_edit_container,children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:c,onCancel:n,title:"D\u1ef1 \xe1n ".concat(null===d||void 0===d?void 0:d.name),footer:Object(k.jsx)(H.a,{onClick:function(){var e={};if(h){var n,a=Object(xe.a)(h);try{for(a.s();!(n=a.n()).done;)for(var c=n.value,i=0,r=Object.entries(Wn);i<r.length;i++){var s=Object(l.a)(r[i],2),o=s[0],d=s[1];c.ckey===d.brand&&(e[o]=c.value)}}catch(j){a.e(j)}finally{a.f()}}delete e.start_time,delete e.end_time,delete e.create_time,delete e.update_time,A({endPoint:C+"/machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:Object(P.a)(Object(P.a)({},e),{},{pk:t,action:"update"})})},children:"C\u1eadp nh\u1eadt"}),children:Object(k.jsx)("div",{className:Gn.a.machine_edit_content,children:Object(k.jsx)(q.a,{components:g,rowClassName:function(){return"editable-row"},className:Gn.a.machine_table_content,columns:y,dataSource:h,showHeader:!1,pagination:!1})})}))})},Rn=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(a.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),O=Object(l.a)(m,2),p=O[0],v=O[1],f=Object(a.useState)(0),x=Object(l.a)(f,2),g=x[0],y=x[1],_=[].concat(Object(fe.a)(Dn.slice(0,1)),[{title:"T\xean m\xe1y m\xf3c",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/machines/".concat(t.id),children:e})}}],Object(fe.a)(Dn.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsxs)(et.b,{size:"middle",children:[Object(k.jsx)("button",{onClick:function(){return e=t.id,y(e),void h(!0);var e},children:"T\u1ed5ng quan"}),Object(k.jsx)("button",{onClick:function(){return e=t.id,y(e),void v(!0);var e},children:"C\u1eadp nh\u1eadt"}),Object(k.jsx)("button",{onClick:function(){return ae(t.id,t.name)},children:"X\xf3a"})]})}}]),w=Object(a.useState)([]),S=Object(l.a)(w,2),I=S[0],T=S[1],A=Je({}),E=Object(l.a)(A,3),D=E[0],P=E[1],M=E[2];Object(a.useEffect)((function(){n&&(M({endPoint:C+"/machine/",method:"GET"}),c(!1))}),[n]),Object(a.useEffect)((function(){!P&&D&&D.data&&!D.hasError&&T(D.data)}),[D]);var B=Ct(I,"name"),F=Object(l.a)(B,3),L=F[0],G=F[1],z=F[2],Q=function(){c(!0)},V=Object(a.useState)(!1),J=Object(l.a)(V,2),W=J[0],Y=J[1],K=Object(a.useState)(""),U=Object(l.a)(K,2),X=U[0],R=U[1],Z=Je({}),$=Object(l.a)(Z,3),ee=$[0],te=$[1],ne=$[2],ae=function(e,t){R(t),y(e),Y(!0)};return Object(a.useEffect)((function(){!te&&ee&&ee.data&&!ee.hasError&&(Q(),N.b.success(ee.data))}),[ee]),Object(k.jsxs)("div",{className:"machines-list-wrapper",children:[Object(k.jsxs)("div",{className:"machines-list-control",children:[Object(k.jsx)("div",{className:"machines-list-control-search",children:Object(k.jsx)(tt.a,{prefix:Object(k.jsx)(nt.a,{className:"site-form-item-icon"}),value:L,onChange:G,placeholder:"T\xean m\xe1y m\xf3c"})}),Object(k.jsx)("div",{className:"machines-list-control-actions",children:Object(k.jsx)(H.a,{onClick:function(){d(!0)},children:"Th\xeam m\xe1y m\xf3c"})})]}),Object(k.jsx)("div",{className:"machines-list-table",children:Object(k.jsx)(q.a,{columns:_,dataSource:z,bordered:!0,loading:P})}),Object(k.jsx)(An,{update:Q,centered:!0,width:800,visible:o,onClose:function(){d(!1)}}),Object(k.jsx)(Hn,{centered:!0,width:800,visible:b,onClose:function(){h(!1)},id:g}),Object(k.jsx)(Xn,{update:Q,centered:!0,width:800,visible:p,onClose:function(){v(!1)},id:g}),Object(k.jsx)(It,{title:"m\xe1y m\xf3c ".concat(X),visible:W,setVisible:Y,handleOK:function(){ne({endPoint:C+"/machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"delete",pk:g}}),Y(!1)}})]})},Zn=(n(1985),n(1986),n(1987),["id","onClose","update","visible"]),$n=Te.a.Option,ea=function(e){var t=e.id,n=e.onClose,c=e.update,i=e.visible,r=Object(M.a)(e,Zn),s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Je({}),p=Object(l.a)(O,3),v=p[0],f=p[1],x=p[2];Object(a.useEffect)((function(){i&&x({endPoint:C+"/device/",method:"GET"})}),[i]),Object(a.useEffect)((function(){!f&&v&&v.data&&!v.hasError&&(j(v.data),console.log(v.data))}),[v]);var g=Je({}),y=Object(l.a)(g,3),_=y[0],w=y[1],S=y[2];return Object(a.useEffect)((function(){!w&&_&&_.data&&!_.hasError?(c(),N.b.success(_.data)):!f&&v.hasError&&N.b.error(v.hasError),n()}),[_]),Object(k.jsx)("div",{className:"project_summary_container",children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:i,onCancel:n,title:"Th\xeam thi\u1ebft b\u1ecb k\u1ebft n\u1ed1i v\u1edbi m\xe1y m\xf3c",footer:Object(k.jsx)(H.a,{onClick:function(){var e={action:"update",device_id:h,machine_id:t};console.log(e),S({endPoint:C+"/machine-device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:e})},children:"Th\xeam"}),children:Object(k.jsx)("div",{className:"project-device-add-container",children:Object(k.jsxs)("div",{className:"project-device-add-select",children:["Thi\u1ebft b\u1ecb:",Object(k.jsx)(Te.a,{showSearch:!0,style:{width:200},placeholder:"Ch\u1ecdn thi\u1ebft b\u1ecb",optionFilterProp:"children",onChange:function(e){console.log("selected device ".concat(e)),m(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:d&&d.map((function(e){return Object(k.jsx)($n,{value:e.id,children:e.name},e.id)}))})]})})}))})},ta=[{title:"ID",dataIndex:"id",key:"id"},{title:"Sim Imei",dataIndex:"sim_imei",key:"sim_imei"},{title:"Caster Ip",dataIndex:"caster_ip",key:"caster_ip"},{title:"NTRIP Username",dataIndex:"ntrip_username",key:"ntrip_username"},{title:"NTRIP Passwword",dataIndex:"ntrip_password",key:"ntrip_password"},{title:"Mount Point",dataIndex:"mount_point",key:"mount_point"},{title:"L\xe1i m\xe1y",dataIndex:"driver",key:"driver"},{title:"T\xecnh tr\u1ea1ng s\u1eed d\u1ee5ng",dataIndex:"status",key:"status",render:function(e,t){return Object(k.jsx)("div",{children:t.status?"C\xf3":"Kh\xf4ng"})}}],na=function(e){var t=e.id,n=e.data,c=e.refetch,i=[].concat(Object(fe.a)(ta.slice(0,1)),[{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/devices/".concat(t.id),children:e})}}],Object(fe.a)(ta.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsx)(et.b,{size:"middle",children:Object(k.jsx)("button",{children:"X\xf3a"})})}}]),r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1];Object(a.useEffect)((function(){if(n){var e,t=[],a=Object(xe.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value.device,i=Object(P.a)(Object(P.a)({},c),{},{status:Math.abs(new Date(c.update_time).getTime()-Date.now())<12e4});t.push(i)}}catch(r){a.e(r)}finally{a.f()}j(t)}}),[n]);var u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1];return Object(k.jsxs)("div",{className:"machine-devices-container",children:[Object(k.jsxs)("div",{className:"machine-devices-control",children:[Object(k.jsx)("div",{className:"machine-list-control-report",children:Object(k.jsx)(H.a,{children:"Xu\u1ea5t b\xe1o c\xe1o"})}),Object(k.jsx)("div",{className:"machine-list-control-add",children:Object(k.jsx)(H.a,{onClick:function(){m(!0)},children:"Th\xeam thi\u1ebft b\u1ecb"})})]}),Object(k.jsx)("div",{className:"machine-list-table",children:Object(k.jsx)(q.a,{columns:i,dataSource:d,bordered:!0})}),Object(k.jsx)(ea,{update:c,id:t,centered:!0,width:800,visible:h,onClose:function(){m(!1)}})]})},aa=(n(1988),n(1989),["id","onClose","update","visible"]),ca=Te.a.Option,ia=function(e){var t=e.id,n=e.onClose,c=e.update,i=e.visible,r=Object(M.a)(e,aa),s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),v=p[0],f=p[1],x=Object(a.useState)([]),g=Object(l.a)(x,2),y=(g[0],g[1]),_=Je({}),w=Object(l.a)(_,3),S=w[0],I=w[1],T=w[2];function A(e){console.log("search:",e)}Object(a.useEffect)((function(){i&&T({endPoint:C+"/user/",method:"GET"})}),[i]),Object(a.useEffect)((function(){!I&&S&&S.data&&!S.hasError&&j(S.data)}),[S]),Object(a.useEffect)((function(){for(var e=[],t=0;t<5;t++)e.push({id:t,name:Pt.a.name.jobTitle()});m(e)}),[]);var E=Je({}),D=Object(l.a)(E,3),B=D[0],F=D[1],L=D[2];return Object(a.useEffect)((function(){!F&&B&&B.data&&!B.hasError?(c(),N.b.success(B.data)):!I&&S.hasError&&N.b.error(S.hasError),n()}),[B]),Object(k.jsx)("div",{className:"machine_summary_container",children:Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},r),{},{visible:i,onCancel:n,title:"Th\xeam l\xe1i m\xe1y",footer:Object(k.jsx)(H.a,{onClick:function(){L({endPoint:C+"/machine-user/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"update",user_id:v,machine_id:t}})},children:"Th\xeam"}),children:Object(k.jsxs)("div",{className:"machine-user-add-container",children:[Object(k.jsxs)("div",{className:"machine-user-add-select",children:["Ch\u1ee9c v\u1ee5:",Object(k.jsx)(Te.a,{style:{width:200},placeholder:"Ch\u1ecdn ch\u1ee9c v\u1ee5",optionFilterProp:"children",onChange:function(e){y(e)},onSearch:A,children:h&&h.map((function(e){return Object(k.jsx)(ca,{value:e.name,children:e.name},e.id)}))})]}),Object(k.jsxs)("div",{className:"machine-user-add-select",children:["Ng\u01b0\u1eddi d\xf9ng:",Object(k.jsx)(Te.a,{showSearch:!0,style:{width:200},placeholder:"Ch\u1ecdn ng\u01b0\u1eddi d\xf9ng",optionFilterProp:"children",onChange:function(e){f(e)},onSearch:A,filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:d&&d.map((function(e){return Object(k.jsx)(ca,{value:e.id,children:e.name},e.id)}))})]})]})}))})},ra=[{title:"M\xe3",dataIndex:"id",key:"id"},{title:"T\xean \u0111\u0103ng nh\u1eadp",dataIndex:"username",key:"username"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phone",key:"phone"},{title:"Ch\u1ee9c v\u1ee5",dataIndex:"role",key:"role"}],sa=function(e){var t=e.id,n=e.data,c=e.refetch,i=[].concat(Object(fe.a)(ra.slice(0,1)),[{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/users/".concat(t.id),children:e})}}],Object(fe.a)(ra.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsx)(et.b,{size:"middle",children:Object(k.jsx)("button",{children:"X\xf3a"})})}}]),r=Object(a.useState)([]),o=Object(l.a)(r,2),d=o[0],j=o[1];Object(a.useEffect)((function(){if(n){var e,t=[],a=Object(xe.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value.user,i=Object(P.a)({},c);t.push(i)}}catch(r){a.e(r)}finally{a.f()}j(t)}}),[n]);var u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],m=b[1];return Object(k.jsxs)("div",{className:"machine-users-container",children:[Object(k.jsxs)("div",{className:"machine-users-control",children:[Object(k.jsx)("div",{className:"machine-list-control-report",children:Object(k.jsx)(H.a,{children:"Xu\u1ea5t b\xe1o c\xe1o"})}),Object(k.jsx)("div",{className:"machine-list-control-add",children:Object(k.jsx)(H.a,{onClick:function(){m(!0)},children:"Th\xeam l\xe1i m\xe1y"})})]}),Object(k.jsx)("div",{className:"machine-list-table",children:Object(k.jsx)(q.a,{columns:i,dataSource:d,bordered:!0})}),Object(k.jsx)(ia,{update:c,id:t,centered:!0,width:800,visible:h,onClose:function(){m(!1)}})]})},oa=n(187),da=n.n(oa),la=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],ja={name:{brand:"T\xean d\u1ef1 \xe1n",type:"string"},model:{brand:"Ki\u1ec3u xe",type:"string"},description:{brand:"M\xf4 t\u1ea3",type:"string"},project:{brand:"D\u1ef1 \xe1n",type:"string"},driver:{brand:"L\xe1i m\xe1y",type:"string"},create_time:{brand:"Th\u1eddi gian t\u1ea1o",type:"date"},update_time:{brand:"Th\u1eddi gian c\u1eadp nh\u1eadt",type:"date"}},ua=function(e){var t=e.data,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){var e=[];if(t)for(var n=0,a=Object.entries(t);n<a.length;n++){var c=Object(l.a)(a[n],2),i=c[0],s=c[1];if(ja[i]){var o=ja[i],d={ckey:o.brand,value:s};"date"===o.type&&(d.value=new Date(s).toLocaleString()),e.push(d)}}r(e)}),[t]),Object(k.jsx)("div",{className:da.a.machine_summary_container,children:Object(k.jsx)("div",{className:da.a.machine_summary_content,children:Object(k.jsx)(q.a,{className:da.a.machine_table_content,columns:la,dataSource:i,showHeader:!1,pagination:!1})})})},ba=function(e){var t,n=e.match,c=null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.id,i=Object(a.useState)("summary"),r=Object(l.a)(i,2),s=r[0],o=r[1],d=Ut({endPoint:C+"/machine/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",pk:c}}),j=Object(l.a)(d,1)[0],u=Ut({endPoint:C+"/machine-user/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",machine_id:c}}),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Ut({endPoint:C+"/machine-device/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"read",machine_id:c}}),p=Object(l.a)(O,2),v=p[0],f=p[1];return Object(k.jsx)("div",{className:"machine-detail-container",children:Object(k.jsxs)("div",{className:"machine-detail-wrapper",children:[Object(k.jsxs)(At.a,{style:{display:"flex",justifyContent:"space-between"},onClick:function(e){o(e.key)},selectedKeys:[s],mode:"inline",children:[Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Th\xf4ng tin chung"},"summary"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Danh s\xe1ch l\xe1i m\xe1y"},"user"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Danh s\xe1ch thi\u1ebft b\u1ecb"},"device"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Danh s\xe1ch h\u1ea1ng m\u1ee5c"},"category"),Object(k.jsx)(At.a.Item,{style:{fontWeight:"bold"},children:"Nhi\xean li\u1ec7u"},"fuel")]}),Object(k.jsxs)("div",{className:"machine-detail-content",children:["summary"===s&&Object(k.jsx)(ua,{data:j}),"user"===s&&Object(k.jsx)(sa,{id:c,data:h,refetch:m}),"device"===s&&Object(k.jsx)(na,{id:c,data:v,refetch:f})]})]})})},ha=(n(1990),[{title:"STT",dataIndex:"id",key:"id"},{title:"T\xean \u0111\u0103ng nh\u1eadp",dataIndex:"username",key:"username"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phone",key:"phone"},{title:"Email",dataIndex:"email",key:"email"},{title:"\u0110\u1ecba ch\u1ec9",dataIndex:"address",key:"address"},{title:"Ch\u1ee9c v\u1ee5",dataIndex:"role",key:"role"},{title:"\u0110\u01a1n v\u1ecb c\xf4ng t\xe1c",dataIndex:"project",key:"project"}]),ma=["update","onClose"],Oa=function(e){var t=e.update,n=e.onClose,a=Object(M.a)(e,ma),c=it.a.useForm(),i=Object(l.a)(c,1)[0],r=function(){var e=Object(be.a)(ue.a.mark((function e(t){var n,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.a)(Object(P.a)({},t),{},{action:"create"}),e.next=3,fetch(C+"/user/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},a),{},{onCancel:n,title:"\u0110\u0103ng k\xed ng\u01b0\u1eddi d\xf9ng m\u1edbi",footer:Object(k.jsx)(H.a,{onClick:function(){i.submit()},children:"\u0110\u0103ng k\xfd"}),children:Object(k.jsx)("div",{className:"user-add-container",children:Object(k.jsxs)(it.a,{form:i,layout:"vertical",onFinish:function(e){r(e).then((function(e){t(),N.b.success(e.response),n()}))},onFinishFailed:function(){N.b.error("Submit failed!")},autoComplete:"off",children:[Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"username",label:"T\xean \u0111\u0103ng nh\u1eadp",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"password",label:"M\u1eadt kh\u1ea9u",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"name",label:"T\xean ng\u01b0\u1eddi d\xf9ng",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"email",label:"Email",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"role",label:"Ch\u1ee9c v\u1ee5",rules:[{required:!0},{type:"string",warningOnly:!0}],children:Object(k.jsx)(tt.a,{placeholder:""})})}),Object(k.jsx)("div",{style:{overflow:"hidden"},children:Object(k.jsx)(it.a.Item,{name:"address",label:"\u0110\u1ecba ch\u1ec9",children:Object(k.jsx)(tt.a,{placeholder:""})})})]})})}))},pa=function(){var e=Object(d.g)(),t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(0),o=Object(l.a)(r,2),j=o[0],u=o[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],p=[].concat(Object(fe.a)(ha.slice(0,1)),[{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/users/".concat(t.id),children:e})}}],Object(fe.a)(ha.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(t,n){return Object(k.jsxs)(et.b,{size:"middle",children:[Object(k.jsx)("button",{onClick:function(){return e.push("/users/".concat(n.id))},children:"Chi ti\u1ebft"}),Object(k.jsx)("button",{onClick:function(){return e.push("/users/edit/".concat(n.id))},children:"C\u1eadp nh\u1eadt"}),Object(k.jsx)("button",{onClick:function(){return R(n.id,n.name)},children:"X\xf3a"})]})}}]),v=Object(a.useState)([]),f=Object(l.a)(v,2),x=f[0],g=f[1],y=Je({}),_=Object(l.a)(y,3),w=_[0],S=_[1],I=_[2];Object(a.useEffect)((function(){c&&(I({endPoint:C+"/user/",method:"GET"}),i(!1))}),[c]),Object(a.useEffect)((function(){!S&&w&&w.data&&!w.hasError&&g(w.data)}),[w]);var T=Ct(x,"name"),A=Object(l.a)(T,3),E=A[0],D=A[1],P=A[2],M=function(){i(!0)},B=Object(a.useState)(!1),F=Object(l.a)(B,2),L=F[0],G=F[1],z=Object(a.useState)(""),Q=Object(l.a)(z,2),V=Q[0],J=Q[1],W=Je({}),Y=Object(l.a)(W,3),K=Y[0],U=Y[1],X=Y[2],R=function(e,t){J(t),u(e),G(!0)};return Object(a.useEffect)((function(){!U&&K&&K.data&&!K.hasError&&(M(),N.b.success(K.data))}),[K]),Object(k.jsxs)("div",{className:"users-list-wrapper",children:[Object(k.jsxs)("div",{className:"users-list-control",children:[Object(k.jsx)("div",{className:"users-list-control-search",children:Object(k.jsx)(tt.a,{prefix:Object(k.jsx)(nt.a,{className:"site-form-item-icon"}),value:E,onChange:D,placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng"})}),Object(k.jsx)("div",{className:"users-list-control-actions",children:Object(k.jsx)(H.a,{onClick:function(){O(!0)},children:"Th\xeam ng\u01b0\u1eddi d\xf9ng"})})]}),Object(k.jsxs)("div",{className:"users-list-table",children:[Object(k.jsx)(q.a,{columns:p,dataSource:P,bordered:!0,loading:S}),";"]}),Object(k.jsx)(Oa,{update:M,centered:!0,width:800,visible:m,onClose:function(){O(!1)}}),Object(k.jsx)(It,{title:"d\u1ef1 \xe1n ".concat(V),visible:L,setVisible:G,handleOK:function(){X({endPoint:C+"/user/",method:"POST",headers:{"Content-type":"application/json"},requestBody:{action:"delete",pk:j}}),G(!1)}})]})},va=n(188),fa=n.n(va),xa=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],ga={name:{brand:"T\xean ng\u01b0\u1eddi d\xf9ng ",type:"string"},username:{brand:"T\xean \u0111\u0103ng nh\u1eadp",type:"string"},password:{brand:"M\u1eadt kh\u1ea9u",type:"string"},email:{brand:"Email",type:"string"},phone:{brand:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"string"},role:{brand:"Ch\u1ee9c v\u1ee5",type:"string"},department:{brand:"Ph\xf2ng ban",type:"string"}},ya=function(e){var t,n=e.match,c=null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.id,i=Object(d.g)(),r=Object(a.useState)([]),s=Object(l.a)(r,2),o=s[0],j=s[1],u=Je({}),b=Object(l.a)(u,3),h=b[0],m=b[1],O=b[2];return Object(a.useEffect)((function(){O({endPoint:C+"/user/",method:"POST",requestBody:{action:"read",pk:c},headers:{"Content-type":"application/json"}})}),[]),Object(a.useEffect)((function(){if(!m&&h&&h.data&&!h.hasError){var e=[];if(h.data[0])for(var t=0,n=Object.entries(h.data[0]);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];if(ga[c]){var r=ga[c],s={ckey:r.brand,value:i};"date"===r.type&&(s.value=new Date(i).toLocaleString()),e.push(s)}}j(e)}}),[h]),Object(k.jsxs)("div",{className:fa.a.user_detail_container,children:[Object(k.jsx)(q.a,{className:fa.a.user_table_content,columns:xa,dataSource:o,showHeader:!1,pagination:!1,title:function(){var e,t;return Object(k.jsxs)("h4",{style:{textAlign:"left"},children:["Chi ti\u1ebft ng\u01b0\u1eddi d\xf9ng ",null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.name]})},footer:function(){return Object(k.jsx)(H.a,{danger:!0,style:{display:"flex"},onClick:function(){return i.push("/users/edit/"+c)},children:"C\u1eadp nh\u1eadt th\xf4ng tin"})},loading:m}),Object(k.jsx)("div",{className:fa.a.user_avatar,children:Object(k.jsx)("img",{alt:"avatar",src:"https://apsec.iafor.org/wp-content/uploads/sites/37/2017/02/IAFOR-Blank-Avatar-Image.jpg"})})]})},_a=n(189),ka=n.n(_a),wa=["index"],Na=["title","editable","children","dataIndex","record","handleSave"],Sa=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value",editable:!0}],Ca={name:{brand:"T\xean ng\u01b0\u1eddi d\xf9ng",type:"string"},username:{brand:"T\xean \u0111\u0103ng nh\u1eadp",type:"string"},password:{brand:"M\u1eadt kh\u1ea9u",type:"string"},email:{brand:"Email",type:"string"},phone:{brand:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"string"},role:{brand:"Ch\u1ee9c v\u1ee5",type:"string"},department:{brand:"Ph\xf2ng ban",type:"string"}},Ia=Object(a.createContext)(null),Ta=function(e){e.index;var t=Object(M.a)(e,wa),n=it.a.useForm(),a=Object(l.a)(n,1)[0];return Object(k.jsx)(it.a,{form:a,component:!1,children:Object(k.jsx)(Ia.Provider,{value:a,children:Object(k.jsx)("tr",Object(P.a)({},t))})})},Aa=function(e){var t=e.title,n=e.editable,c=e.children,i=e.dataIndex,r=e.record,s=e.handleSave,o=Object(M.a)(e,Na),d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useRef)(null),m=Object(a.useContext)(Ia);Object(a.useEffect)((function(){u&&h.current.focus()}),[u]);var O=function(){b(!u),m.setFieldsValue(Object(mt.a)({},i,r[i]))},p=function(){var e=Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,O(),s(Object(P.a)(Object(P.a)({},r),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=c;return n&&(v=u?Object(k.jsx)(it.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(k.jsx)(tt.a,{ref:h,onPressEnter:p,onBlur:p})}):Object(k.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24,height:"30px"},onClick:O,children:c})),Object(k.jsx)("td",Object(P.a)(Object(P.a)({},o),{},{children:v}))},Ea=function(e){var t,n=e.match,c=null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.id,i=Object(a.useState)([]),r=Object(l.a)(i,2),s=r[0],o=r[1],d=Je({}),j=Object(l.a)(d,3),u=j[0],b=j[1],h=j[2];Object(a.useEffect)((function(){h({endPoint:C+"/user/",method:"POST",requestBody:{action:"read",pk:c},headers:{"Content-type":"application/json"}})}),[]),Object(a.useEffect)((function(){if(!b&&u&&u.data&&!u.hasError){var e=[];if(u.data[0])for(var t=0,n=Object.entries(u.data[0]);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];if(Ca[c]){var r=Ca[c],s={ckey:r.brand,value:i};"date"===r.type&&(s.value=new Date(i).toLocaleString()),e.push(s)}}o(e)}}),[u]);var m={body:{row:Ta,cell:Aa}},O=Sa.map((function(e){return e.editable?Object(P.a)(Object(P.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.dataIndex,handleSave:p}}}):e})),p=function(e){var t=Object(fe.a)(s),n=t.findIndex((function(t){return e.ckey===t.ckey})),a=t[n];t.splice(n,1,Object(P.a)(Object(P.a)({},a),e)),o(t)},v=Je({}),f=Object(l.a)(v,3),x=f[0],g=f[1],y=f[2],_=function(){var e={};if(s){var t,n=Object(xe.a)(s);try{for(n.s();!(t=n.n()).done;)for(var a=t.value,i=0,r=Object.entries(Ca);i<r.length;i++){var o=Object(l.a)(r[i],2),d=o[0],j=o[1];a.ckey===j.brand&&(e[d]=a.value)}}catch(u){n.e(u)}finally{n.f()}}delete e.username,y({endPoint:C+"/user/",method:"POST",headers:{"Content-type":"application/json"},requestBody:Object(P.a)(Object(P.a)({},e),{},{pk:c,action:"update"})})};return Object(a.useEffect)((function(){var e;!g&&x&&x.data&&!x.hasError&&N.b.success(null===(e=x.data)||void 0===e?void 0:e.detail)}),[x]),Object(k.jsxs)("div",{className:ka.a.user_edit_container,children:[Object(k.jsx)(q.a,{components:m,rowClassName:function(){return"editable-row"},className:ka.a.user_table_content,columns:O,dataSource:s,showHeader:!1,pagination:!1,title:function(){return Object(k.jsx)("h4",{style:{textAlign:"left"},children:"Ch\u1ec9nh s\u1eeda: name"})},footer:function(){return Object(k.jsx)(H.a,{danger:!0,style:{display:"flex"},onClick:_,children:"C\u1eadp nh\u1eadt th\xf4ng tin"})}}),Object(k.jsx)("div",{className:ka.a.user_avatar,children:Object(k.jsx)("img",{alt:"avatar",src:"https://apsec.iafor.org/wp-content/uploads/sites/37/2017/02/IAFOR-Blank-Avatar-Image.jpg"})})]})},Da=(n(1991),Te.a.Option),Pa=function(e){var t=Object.assign({},e),n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),h=(b[0],b[1]),m=Object(a.useState)([]),O=Object(l.a)(m,2),p=(O[0],O[1]);function v(e){console.log("search:",e)}Object(a.useEffect)((function(){for(var e=[],t=[],n=0;n<5;n++)t.push({id:n,name:Pt.a.name.jobTitle()});for(var a=0;a<15;a++)e.push({id:a,name:Pt.a.name.findName()});r(e),j(t)}),[]);var f=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.alert("Create new mod"),Object(P.a)(Object(P.a)({},t),{},{action:"create"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(rt.a,Object(P.a)(Object(P.a)({},t),{},{title:"Th\xeam qu\u1ea3n tr\u1ecb vi\xean",footer:Object(k.jsx)(H.a,{onClick:f,children:"\u0110\u0103ng k\xfd"}),children:Object(k.jsxs)("div",{className:"moderator-add-container",children:[Object(k.jsx)(Te.a,{showSearch:!0,style:{width:200},placeholder:"Ch\u1ecdn ng\u01b0\u1eddi d\xf9ng",optionFilterProp:"children",onChange:function(e){console.log("selected user ".concat(e)),h(e)},onSearch:v,filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:i&&i.map((function(e){return Object(k.jsx)(Da,{value:e.name,children:e.name},e.id)}))}),Object(k.jsx)(Te.a,{style:{width:200},placeholder:"Ch\u1ecdn ch\u1ee9c v\u1ee5",optionFilterProp:"children",onChange:function(e){console.log("selected role ".concat(e)),p(e)},onSearch:v,children:d&&d.map((function(e){return Object(k.jsx)(Da,{value:e.name,children:e.name},e.id)}))})]})}))},Ma=[{title:"STT",dataIndex:"index",key:"index",render:function(e,t,n){return Object(k.jsx)("div",{children:n})}},{title:"T\xean \u0111\u0103ng nh\u1eadp",dataIndex:"username",key:"username"},{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phone",key:"phone"},{title:"Ch\u1ee9c v\u1ee5",dataIndex:"role",key:"role"}],Ba=function(){var e=[].concat(Object(fe.a)(Ma.slice(0,1)),[{title:"T\xean",dataIndex:"name",key:"name",render:function(e,t){return Object(k.jsx)(s.b,{to:"/moderators/".concat(t.id),children:e})}}],Object(fe.a)(Ma.slice(1)),[{title:"Thao t\xe1c",key:"action",render:function(e,t){return Object(k.jsx)(et.b,{size:"middle",children:Object(k.jsx)(H.a,{danger:!0,onClick:function(){return p(t.index)},children:"Xo\xe1"})})}}]),t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Je({}),o=Object(l.a)(r,3),d=o[0],j=o[1],u=o[2];Object(a.useEffect)((function(){u({endPoint:C+"/user/",method:"GET"})}),[]),Object(a.useEffect)((function(){!j&&d&&d.data&&!d.hasError&&i(d.data)}),[d]);var b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],p=function(e){window.alert("delete mod id: "+e)};return Object(k.jsxs)("div",{className:"moderators-list-wrapper",children:[Object(k.jsxs)("div",{className:"moderators-list-control",children:[Object(k.jsx)("div",{className:"moderators-list-control-search",children:Object(k.jsx)(tt.a,{prefix:Object(k.jsx)(nt.a,{className:"site-form-item-icon"})})}),Object(k.jsx)("div",{className:"moderators-list-control-actions",children:Object(k.jsx)(H.a,{onClick:function(){O(!0)},children:"Th\xeam qu\u1ea3n tr\u1ecb vi\xean"})})]}),Object(k.jsxs)("div",{className:"moderators-list-table",children:[Object(k.jsx)(q.a,{columns:e,dataSource:c,bordered:!0,loading:j}),";"]}),Object(k.jsx)(Pa,{visible:m,footer:null,title:"Th\xeam qu\u1ea3n tr\u1ecb vi\xean",onCancel:function(){return O(!1)}})]})},Fa=n(215),La=n.n(Fa),Ha=["index"],qa=["title","editable","children","dataIndex","record","handleSave"],Ga=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value",editable:!0}],za=Object(a.createContext)(null),Qa=function(e){e.index;var t=Object(M.a)(e,Ha),n=it.a.useForm(),a=Object(l.a)(n,1)[0];return Object(k.jsx)(it.a,{form:a,component:!1,children:Object(k.jsx)(za.Provider,{value:a,children:Object(k.jsx)("tr",Object(P.a)({},t))})})},Va=function(e){var t=e.title,n=e.editable,c=e.children,i=e.dataIndex,r=e.record,s=e.handleSave,o=Object(M.a)(e,qa),d=Object(a.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.useRef)(null),m=Object(a.useContext)(za);Object(a.useEffect)((function(){u&&h.current.focus()}),[u]);var O=function(){b(!u),m.setFieldsValue(Object(mt.a)({},i,r[i]))},p=function(){var e=Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,O(),s(Object(P.a)(Object(P.a)({},r),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=c;return n&&(v=u?Object(k.jsx)(it.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(k.jsx)(tt.a,{ref:h,onPressEnter:p,onBlur:p})}):Object(k.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:O,children:c})),Object(k.jsx)("td",Object(P.a)(Object(P.a)({},o),{},{children:v}))},Ja=function(e){var t=e.id,n=Object(a.useState)([]),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Je({}),o=Object(l.a)(s,3),d=o[0],j=o[1],u=o[2];Object(a.useEffect)((function(){u({endPoint:C+"/user/",method:"POST",requestBody:{action:"read",pk:t},headers:{"Content-type":"application/json"}})}),[]),Object(a.useEffect)((function(){if(!j&&d&&d.data&&!d.hasError){for(var e=[],t=0,n=Object.entries(d.data[0]);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];e.push({ckey:c,value:i})}r(e)}}),[d]);var b={body:{row:Qa,cell:Va}},h=Ga.map((function(e){return e.editable?Object(P.a)(Object(P.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.dataIndex,handleSave:m}}}):e})),m=function(e){var t=Object(fe.a)(i),n=t.findIndex((function(t){return e.key===t.key})),a=t[n];t.splice(n,1,Object(P.a)(Object(P.a)({},a),e)),r(t)},O=function(){console.log(i)};return Object(k.jsxs)("div",{className:La.a.moderator_edit_container,children:[Object(k.jsx)(q.a,{components:b,rowClassName:function(){return"editable-row"},className:La.a.moderator_table_content,columns:h,dataSource:i,showHeader:!1,pagination:!1,title:function(){return Object(k.jsx)("h4",{style:{textAlign:"left"},children:"Ch\u1ec9nh s\u1eeda: name"})},footer:function(){return Object(k.jsx)(H.a,{danger:!0,style:{float:"left"},onClick:O,children:"C\u1eadp nh\u1eadt th\xf4ng tin"})}}),Object(k.jsx)("img",{alt:"avatar",src:"https://apsec.iafor.org/wp-content/uploads/sites/37/2017/02/IAFOR-Blank-Avatar-Image.jpg"})]})},Wa=n(216),Ya=n.n(Wa),Ka=[{key:"ckey",dataIndex:"ckey",render:function(e){return Object(k.jsx)("h6",{style:{fontWeight:"bold"},children:e})}},{key:"value",dataIndex:"value"}],Ua=function(e){var t=e.id,n=Object(d.g)(),c=Object(a.useState)([]),i=Object(l.a)(c,2),r=i[0],s=i[1],o=Je({}),j=Object(l.a)(o,3),u=j[0],b=j[1],h=j[2];return Object(a.useEffect)((function(){h({endPoint:C+"/user/",method:"POST",requestBody:{action:"read",pk:t},headers:{"Content-type":"application/json"}})}),[]),Object(a.useEffect)((function(){if(!b&&u&&u.data&&!u.hasError){for(var e=[],t=0,n=Object.entries(u.data[0]);t<n.length;t++){var a=Object(l.a)(n[t],2),c=a[0],i=a[1];e.push({ckey:c,value:i})}s(e)}}),[u]),Object(k.jsxs)("div",{className:Ya.a.moderator_detail_container,children:[Object(k.jsx)(q.a,{className:Ya.a.moderator_table_content,columns:Ka,dataSource:r,showHeader:!1,pagination:!1,loading:b,title:function(){return Object(k.jsx)("h4",{style:{textAlign:"left"},children:"Chi ti\u1ebft: name"})},footer:function(){return Object(k.jsx)(H.a,{danger:!0,style:{float:"left"},onClick:function(){return n.push("/users/edit/"+t)},children:"C\u1eadp nh\u1eadt th\xf4ng tin"})}}),Object(k.jsx)("img",{alt:"avatar",src:"https://apsec.iafor.org/wp-content/uploads/sites/37/2017/02/IAFOR-Blank-Avatar-Image.jpg"})]})},Xa=(n(1992),function(){var e=Ut({endPoint:C+"/task-online/",method:"GET"}),t=Object(l.a)(e,2),n=t[0];t[1];return Object(k.jsxs)("div",{className:"active-device-list-conntainer",children:[Object(k.jsx)("div",{className:"active-device-list-title",children:"Danh s\xe1ch thi\u1ebft b\u1ecb \u0111ang ho\u1ea1t \u0111\u1ed9ng"}),n&&n.map((function(e){return Object(k.jsxs)("div",{className:"active-device-item",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"active-device-info",children:["Thi\u1ebft b\u1ecb ID: ",e.device_id]}),Object(k.jsxs)("div",{className:"active-device-info",children:["Task ID: ",e.task_id]})]}),Object(k.jsx)("div",{className:"active-device-detail-link",children:Object(k.jsx)(s.b,{to:"/active-tasks/".concat(e.device_id,"/").concat(e.task_id),children:"Chi ti\u1ebft"})})]},e.device_id)}))]})}),Ra=j.a.Header,Za=j.a.Content,$a=function(e){var t=e.parentPath,n=(e.match,Object(d.g)()),c=Object(a.useState)(!1),i=Object(l.a)(c,2),r=i[0],s=i[1],o=Object(a.useState)(!1),h=Object(l.a)(o,2),m=h[0],O=h[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(j.a,{style:{maxHeight:"100vh"},children:[Object(k.jsx)(u.a,{className:"control-menu",placement:"left",closable:!1,onClose:function(){return s(!1)},visible:r,bodyStyle:{padding:"0"},children:Object(k.jsx)(w,{selectItem:function(e){n.push(e),s(!1)},visible:r})}),Object(k.jsxs)(Ra,{className:"header",children:[Object(k.jsxs)("div",{className:"float-start",children:[Object(k.jsx)("button",{className:"menu-toggle-button ".concat(r?"active":""),type:"button",onClick:function(){s(!r)},children:Object(k.jsx)("div",{className:"button-image"})}),Object(k.jsxs)("button",{className:"branch",children:[Object(k.jsx)("div",{className:"branch-logo"}),Object(k.jsx)("div",{className:"branch-name",children:"iMET"})]})]}),Object(k.jsx)("div",{className:"float-end",children:Object(k.jsx)(b.a,{overlay:Object(k.jsx)(D,{}),trigger:["click"],children:Object(k.jsx)("img",{alt:"no?",src:"https://s3-ap-northeast-1.amazonaws.com/agri-info-design-public/icons/ic_person_black_48dp.png",className:"",style:{height:"40px"},onClick:function(){O(!m)}})})})]}),Object(k.jsx)(Za,{className:"home-content",children:Object(k.jsxs)(d.d,{children:[Object(k.jsx)(F,{path:"".concat(t,"devices/list"),component:un}),Object(k.jsx)(F,{path:"".concat(t,"devices/:id/tasks"),component:yn}),Object(k.jsx)(F,{path:"".concat(t,"devices/:id"),component:In}),Object(k.jsx)(F,{path:"".concat(t,"devices-summary"),component:gn}),Object(k.jsx)(F,{path:"".concat(t,"active-devices"),component:Xa}),Object(k.jsx)(F,{path:"".concat(t,"active-tasks/:device/:task"),component:ke}),Object(k.jsx)(F,{path:"".concat(t,"machines/list"),component:Rn}),Object(k.jsx)(F,{path:"".concat(t,"machines/:id"),component:ba}),Object(k.jsx)(F,{path:"".concat(t,"projects/list"),component:Tt}),Object(k.jsx)(F,{path:"".concat(t,"projects/:id"),component:Xt}),Object(k.jsx)(F,{path:"".concat(t,"users/list"),component:pa}),Object(k.jsx)(F,{path:"".concat(t,"users/edit/:id"),component:Ea}),Object(k.jsx)(F,{path:"".concat(t,"users/:id"),component:ya}),Object(k.jsx)(d.b,{path:"".concat(t,"moderators/list"),children:Object(k.jsx)(Ba,{})}),Object(k.jsx)(d.b,{path:"".concat(t,"moderators/edit/:id"),render:function(e){var t=e.match;return Object(k.jsx)(Ja,{id:t.params.id})}}),Object(k.jsx)(d.b,{path:"".concat(t,"moderators/:id"),render:function(e){var t=e.match;return Object(k.jsx)(Ua,{id:t.params.id})}}),Object(k.jsx)(F,{path:"".concat(t,"fields/list"),children:Object(k.jsx)(L,{children:function(e){return Object(k.jsx)(V,{data:e})}})}),Object(k.jsx)(F,{path:"".concat(t,"fields/card"),children:Object(k.jsx)(L,{children:function(e){return Object(k.jsx)(Y,{data:e})}})}),Object(k.jsx)(F,{path:"".concat(t,"fields/:id"),component:$e})]})})]})})},ec=n(190),tc=n.n(ec),nc=n(2022),ac=(n(1993),n(106)),cc=n.n(ac),ic=n(291),rc=n.n(ic),sc=n(125),oc=n.n(sc),dc=n(217),lc=n.n(dc),jc=n(124),uc=n.n(jc),bc=n(141),hc=n.n(bc),mc=function(e){var t=e.selectItem,n=e.handleSelectMenuItem;return Object(k.jsxs)(At.a,{style:{width:"100%",height:"100%"},theme:"light",mode:"inline",onSelect:n,selectedKeys:[t],children:[Object(k.jsx)(cc.a,{icon:Object(k.jsx)(rc.a,{className:"me-4"}),title:"Crop",children:Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(uc.a,{className:"me-3"}),"List Display"]},"/map/crop/list")},"sub1"),Object(k.jsxs)(cc.a,{icon:Object(k.jsx)(oc.a,{className:"me-4"}),title:"Field",children:[Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(lc.a,{className:"me-3"}),"New Registration"]},"/map/field/create"),Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(uc.a,{className:"me-3"}),"List Display"]},"/map/field/list"),Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(hc.a,{className:"me-3"}),"Card Display"]},"/map/field/card")]},"sub2"),Object(k.jsxs)(cc.a,{icon:Object(k.jsx)(oc.a,{className:"me-4"}),title:"Task Records",children:[Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(uc.a,{className:"me-3"}),"List Display"]},"/map/task/list"),Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(hc.a,{className:"me-3"}),"Calendar Display"]},"/map/task/card")]},"sub3"),Object(k.jsxs)(cc.a,{icon:Object(k.jsx)(oc.a,{className:"me-4"}),title:"Guidance Line",children:[Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(lc.a,{className:"me-3"}),"New Registration"]},"/map/guidance/create"),Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(uc.a,{className:"me-3"}),"List Display"]},"/map/guidance/list")]},"sub4"),Object(k.jsx)(cc.a,{icon:Object(k.jsx)(oc.a,{className:"me-4"}),title:"Soil Moisture",children:Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(uc.a,{className:"me-3"}),"List Display"]},"/map/soil-moisture/list")},"sub5"),Object(k.jsxs)(cc.a,{icon:Object(k.jsx)(oc.a,{className:"me-4"}),title:"Tracking",children:[Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(hc.a,{className:"me-3"}),"Tracking"]},"/map"),Object(k.jsxs)(At.a.Item,{children:[Object(k.jsx)(hc.a,{className:"me-3"}),"Record"]},"/map/record")]},"sub6")]})},Oc=(n(1995),"#00fd90"),pc="#ff5050",vc={showFieldDisplay:!0,fillPaint:{"fill-color":Oc,"fill-opacity":.7},showLineDisplay:!1,linePaint:{"line-color":pc,"line-width":3.5}},fc=[{id:"gl-draw-line",type:"line",filter:["all",["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":pc,"line-width":3.5}},{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":Oc,"fill-outline-color":Oc,"fill-opacity":.7}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":pc,"line-width":3.5}},{id:"gl-draw-polygon-and-line-vertex-halo-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#D20C0C"}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","$type","LineString"],["==","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","$type","Polygon"],["==","mode","static"]],paint:{"fill-color":"#000","fill-outline-color":"#000","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","$type","Polygon"],["==","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#000","line-width":3}}],xc=function(){var e=Object(a.useRef)(),t=Object(d.g)(),n="pk.eyJ1IjoidHB3Mjg0IiwiYSI6ImNrc2VrYnk0bjExaWIybnJveGFtOGV0eDAifQ.pSJ4eAaCbdrjhzmqXMRK_A";return Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("div",{className:"title fw-bold fs-3 mb-4",children:Object(k.jsx)("div",{children:"Create Field on the Map"})}),Object(k.jsx)("div",{className:"create-form",children:Object(k.jsxs)(it.a,{onFinish:function(a){var c=e.current.getDrawData(),i=Math.round(100*K.area(c))/100,r=new Date,s=Object(P.a)(Object(P.a)({},c),{},{features:[Object(P.a)(Object(P.a)({},c.features[0]),{},{properties:{Name:"fdfd",fill:"#00A26A","fill-opacity":.9,stroke:"#de3529","stroke-width":1}})]}),o=encodeURIComponent(JSON.stringify(s)),d="https://api.mapbox.com/v4/mapbox.satellite/geojson(".concat(o,")/auto/200x200.jpg?access_token=").concat(n),l={name:a.fieldName,area:i,bounding:c,createdAt:r,img:d};fetch("https://api.dinhvichinhxac.online/api",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){t.push("/field/list")})).catch((function(e){return console.log(e)}))},layout:"inline",children:[Object(k.jsx)("div",{className:"create-input",children:Object(k.jsx)(it.a.Item,{name:"fieldName",children:Object(k.jsx)(tt.a,{placeholder:"Field name",size:"large",required:!0})})}),Object(k.jsxs)("div",{className:"submit-buttons",children:[Object(k.jsx)(H.a,{type:"default",size:"large",onClick:function(){return t.push("/list")},children:"Cancel"}),Object(k.jsx)(H.a,{type:"primary",htmlType:"submit",size:"large",children:"Create"})]})]})})]}),Object(k.jsx)("div",{className:"mapbox-container",children:Object(k.jsx)(Re,{ref:e,accessToken:n,drawStyles:fc,displayStyles:vc,maxWidth:"100%",height:"calc(100vh - 220px)"})})]})},gc=function(){var e,t=Object(a.useState)(),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(a.useState)(),u=Object(l.a)(j,2),b=(u[0],u[1]);return Object(a.useEffect)((function(){fetch("https://dinhvichinhxac.online/api/fake_tracking/get_project",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.project.work_area,n=[t.bottom,t.right,t.top,t.left];i({type:"geojson",data:K.bboxPolygon(n)}),b(K.center(K.bboxPolygon(n)).geometry.coordinates);var a=e.project.devices.map((function(e){return K.polygon([e.crop.map((function(e){return[e[1],e[0]]}))],{icon:e.icon,width:e.width})})),c=K.featureCollection(a);d({type:"geojson",data:c})})).catch((function(e){return console.log(e)}))}),[]),Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsx)("div",{className:"content",children:Object(k.jsx)("div",{className:"title fw-bold fs-3 mb-4 d-flex",children:Object(k.jsx)("div",{children:"Tracking Map"})})}),Object(k.jsx)("div",{className:"mapbox-container",children:Object(k.jsx)(Re,{accessToken:"pk.eyJ1IjoidHB3Mjg0IiwiYSI6ImNrc2VrYnk0bjExaWIybnJveGFtOGV0eDAifQ.pSJ4eAaCbdrjhzmqXMRK_A",workArea:c,crops:o,fitBounds:null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.bbox,trackingApiEndpoint:"https://dinhvichinhxac.online/api/fake_tracking/get_track?last_index",maxWidth:"100%",height:"calc(100vh - 175px)",lockZoom:!0})})]})},yc=function(e){e.boundingData;var t=e.match,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(),o=Object(l.a)(s,2),d=o[0],j=o[1];return Object(a.useEffect)((function(){fetch("http://localhost:4000/api/bounds/"+t.params.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){r({data:e.bounding,type:"geojson"}),j(K.bbox(e.bounding))}))}),[]),Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsx)("div",{className:"content",children:Object(k.jsx)("div",{className:"title fw-bold fs-3 mb-4 d-flex",children:Object(k.jsx)("div",{children:"Bounding Map"})})}),Object(k.jsx)("div",{className:"mapbox-container",children:Object(k.jsx)(Re,{maxWidth:"100%",height:"calc(100vh - 175px)",boundingData:i,fitBounds:d})})]})},_c=function(e){var t=e.parentPath,n=Object(d.h)(),c=Object(d.g)(),i=Object(a.useState)(!1),r=Object(l.a)(i,2),s=r[0],o=r[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),h=b[0],m=b[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(tc.a,{style:{maxHeight:"100vh"},children:[Object(k.jsx)(u.a,{placement:"left",closable:!1,onClose:function(){return o(!1)},visible:s,bodyStyle:{padding:"0"},children:Object(k.jsx)(mc,{selectItem:n.pathname,handleSelectMenuItem:function(e){c.push(e.key),o(!1)}})}),Object(k.jsx)(u.a,{placement:"right",closable:!1,onClose:function(){return m(!1)},visible:h,bodyStyle:{padding:"0"},children:Object(k.jsx)(D,{})}),Object(k.jsxs)(ec.Header,{className:"header",style:{height:"70px",backgroundColor:"#00a26a"},children:[Object(k.jsx)("div",{className:"float-start",children:Object(k.jsx)(nc.a,{onClick:function(){o(!s)},style:{color:"white"}})}),Object(k.jsx)("div",{className:"float-end",children:Object(k.jsx)("img",{alt:"no?",src:"https://s3-ap-northeast-1.amazonaws.com/agri-info-design-public/icons/ic_person_black_48dp.png",className:"",style:{height:"40px"},onClick:function(){m(!h)}})})]}),Object(k.jsx)(ec.Content,{children:Object(k.jsx)("div",{children:Object(k.jsxs)(d.d,{children:[Object(k.jsx)(d.b,{path:"".concat(t,"/field/create"),children:Object(k.jsx)(xc,{})}),Object(k.jsx)(d.b,{path:"".concat(t,"/fields/:id"),children:Object(k.jsx)(yc,{})}),Object(k.jsx)(d.b,{path:"".concat(t,"/field/list"),children:Object(k.jsx)(L,{children:function(e){return Object(k.jsx)(V,{data:e})}})}),Object(k.jsx)(d.b,{path:"".concat(t,"/field/card"),children:Object(k.jsx)(L,{children:function(e){return Object(k.jsx)(Y,{data:e})}})}),Object(k.jsx)(d.b,{path:"".concat(t,"/realtime"),children:Object(k.jsx)(ke,{})}),Object(k.jsx)(d.b,{path:"".concat(t,"/record"),children:Object(k.jsx)($e,{})}),Object(k.jsx)(d.b,{path:"".concat(t,"/tracking"),children:Object(k.jsx)(gc,{})})]})})})]})})},kc=(n(1996),function(){var e=Object(d.g)(),t=y();return Object(k.jsxs)("div",{className:"login-pc-wrapper",children:[Object(k.jsxs)("div",{className:"login-pc-intro",children:[Object(k.jsx)("div",{className:"login-pc-theme"}),Object(k.jsxs)("div",{className:"pc-intro-info",children:[Object(k.jsx)("img",{src:"data:image/png;base64,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",alt:"",className:"pc-intro-logo"}),Object(k.jsx)("div",{className:"pc-intro-title",children:"WELCOME TO iMET"}),Object(k.jsx)("div",{className:"pc-intro-description",children:"The best construction vehicles tracking-app"}),Object(k.jsx)("div",{className:"pc-intro-description",children:"you can find!"})]})]}),Object(k.jsxs)("div",{className:"login-pc-container",children:[Object(k.jsx)("div",{className:"login-pc-title",children:"LOG IN TO iMET"}),Object(k.jsxs)(it.a,{className:"login-pc-form",name:"basic",layout:"vertical",labelCol:{span:16},initialValues:{remember:!0},onFinish:function(n){var a={username:n.username,password:n.password};fetch(C+"/login/",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){var a=n.token,c=n.id,i=n.role,r={pk:c,action:"read"};1===c?(N.b.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),t(p({accessToken:a,id:c,role:i,avatar:"",name:"Mod"})),e.push("/")):fetch(C+"/user/",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){var r=n[0].name;N.b.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),t(p({accessToken:a,id:c,role:i,avatar:"",name:r})),e.push("/")}))})).catch((function(e){return console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(k.jsx)(it.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)("input",{type:"text",className:"login-pc-form-input pc-input-username",placeholder:"Username"})}),Object(k.jsx)(it.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)("input",{type:"password",className:"login-pc-form-input pc-input-password",placeholder:"Password"})}),Object(k.jsx)(it.a.Item,{children:Object(k.jsx)(H.a,{className:"login-pc-form-button",type:"primary",htmlType:"submit",children:"LOG IN"})})]})]})]})}),wc=(n(1997),function(){return Object(k.jsx)("div",{className:"register-wrapper",children:Object(k.jsx)("div",{className:"register-container",children:Object(k.jsxs)(it.a,{name:"basic",layout:"vertical",labelCol:{span:16},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e);var t={action:"create",username:e.username,password:e.password};fetch(C+"/user/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(k.jsx)(it.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)(tt.a,{})}),Object(k.jsx)(it.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)(tt.a.Password,{})}),Object(k.jsx)(it.a.Item,{label:"Confirm Password",name:"confirmPassword",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)(tt.a.Password,{})}),Object(k.jsx)(it.a.Item,{wrapperCol:{offset:4,span:16},children:Object(k.jsx)(H.a,{type:"primary",htmlType:"submit",children:"Register"})})]})})})}),Nc=n(292),Sc=(n(1998),n.p+"static/media/imet-logo-mobile.16e11c6c.png"),Cc=function(){var e=Object(d.g)(),t=y();return Object(k.jsxs)("div",{className:"login-wrapper",children:[Object(k.jsx)("img",{src:Sc,alt:"",className:"login-logo"}),Object(k.jsx)("div",{className:"login-title",children:"LOG IN TO iMET"}),Object(k.jsxs)(it.a,{className:"login-form",name:"basic",layout:"vertical",labelCol:{span:16},initialValues:{remember:!0},onFinish:function(n){var a={username:n.username,password:n.password};fetch(C+"/login/",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){var a=n.token,c=n.id,i=n.role,r={pk:c,action:"read"};1===c?(N.b.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),t(p({accessToken:a,id:c,role:i,avatar:"",name:"Mod"})),e.push("/")):fetch(C+"/user/",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){var r=n[0].name;N.b.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),t(p({accessToken:a,id:c,role:i,avatar:"",name:r})),e.push("/")}))})).catch((function(e){return console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(k.jsx)(it.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)("input",{type:"text",className:"login-form-input input-username",placeholder:"Username"})}),Object(k.jsx)(it.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)("input",{type:"password",className:"login-form-input input-password",placeholder:"Password"})}),Object(k.jsx)(it.a.Item,{className:"login-form-forget-password",name:"remember",valuePropName:"checked",wrapperCol:{offset:4,span:16},children:Object(k.jsx)(s.b,{to:"/",children:"Forget Password?"})}),Object(k.jsx)(it.a.Item,{children:Object(k.jsx)(H.a,{className:"login-form-button",type:"primary",htmlType:"submit",children:"LOG IN"})})]})]})};var Ic=function(){var e=Object(Nc.useMediaQuery)({query:"(max-width: 992px)"});return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(d.d,{children:[Object(k.jsx)(F,{path:"/map",children:Object(k.jsx)(_c,{parentPath:"/map"})}),e&&Object(k.jsx)(d.b,{path:"/login",children:Object(k.jsx)(Cc,{})}),!e&&Object(k.jsx)(d.b,{path:"/login",children:Object(k.jsx)(kc,{})}),Object(k.jsx)(d.b,{path:"/register",children:Object(k.jsx)(wc,{})}),Object(k.jsx)(d.b,{path:"/",children:Object(k.jsx)($a,{parentPath:"/"})})]})})};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(m.a,{store:g,children:Object(k.jsx)(s.a,{children:Object(k.jsx)(Ic,{})})})}),document.getElementById("root")),o()},214:function(e,t,n){e.exports={device_edit_container:"DeviceEditModal_device_edit_container__3b-Nr",device_edit_content:"DeviceEditModal_device_edit_content__1hJbM",device_table_content:"DeviceEditModal_device_table_content__IL1kS"}},215:function(e,t,n){e.exports={moderator_edit_container:"ModeratorEdit_moderator_edit_container__3X-RH",moderator_edit_title:"ModeratorEdit_moderator_edit_title__1W1Av",moderator_edit_content:"ModeratorEdit_moderator_edit_content__3wnbg",moderator_update_button:"ModeratorEdit_moderator_update_button__3L2KL"}},216:function(e,t,n){e.exports={moderator_detail_container:"ModeratorDetail_moderator_detail_container__PT9qv",moderator_detail_title:"ModeratorDetail_moderator_detail_title__39xNz",moderator_detail_content:"ModeratorDetail_moderator_detail_content__2JdEe",moderator_update_button:"ModeratorDetail_moderator_update_button__32VbK"}},302:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},455:function(e,t,n){},458:function(e,t,n){},465:function(e,t,n){},468:function(e,t,n){},474:function(e,t,n){},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){}},[[1999,1,2]]]);